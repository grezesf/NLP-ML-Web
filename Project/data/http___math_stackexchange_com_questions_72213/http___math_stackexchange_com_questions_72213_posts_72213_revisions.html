<!DOCTYPE html>
<html>
<head>
    
    <title>Revisions - Mathematics Stack Exchange</title>
    <link rel="shortcut icon" href="//cdn.sstatic.net/math/img/favicon.ico">
    <link rel="apple-touch-icon image_src" href="//cdn.sstatic.net/math/img/apple-touch-icon.png">
    <link rel="search" type="application/opensearchdescription+xml" title="Mathematics Stack Exchange" href="/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@StackMath" />
    <meta name="twitter:domain" content="math.stackexchange.com"/>
    <meta name="og:type" content="website" />
    <meta name="og:image" content="http://cdn.sstatic.net/math/img/apple-touch-icon@2.png?v=4ec1df2e49b1"/>
    <meta name="og:title" content="Revisions" />
    <meta name="og:description" content="Q&amp;A for people studying math at any level and professionals in related fields" />
    <meta name="og:url" content="http://math.stackexchange.com/posts/72213/revisions"/>

    
    
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="//cdn.sstatic.net/Js/stub.en.js?v=e3d47b73fa12" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.sstatic.net/math/all.css?v=4625c18f0530">
    
                <script type="text/x-mathjax-config">
                    MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
                                        tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
                                        TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
                                        messageStyle: "none"
                });
                </script>
                <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>                

    <script type="text/javascript">
        StackExchange.ready(function () {
            StackExchange.realtime.init('wss://qa.sockets.stackexchange.com,ws://qa.sockets.stackexchange.com');
            StackExchange.realtime.subscribeToInboxNotifications();
                    StackExchange.realtime.subscribeToReputationNotifications('69');
                        });
    </script>
    <script type="text/javascript">
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","serverTime":1385123627,"enableUserHovercards":true,"site":{"name":"Mathematics Stack Exchange","description":"Q&A for people studying math at any level and professionals in related fields","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdsB7sSAAAAAAzjgEF_Hd8vXv-C42sa_KyofaGR","enableSocialMediaInSharePopup":true},"user":{"fkey":"f51c005c36aeb04be7163e16a81b52d5","isAnonymous":true}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"e0bbd4760e83","js/moderator.en.js":"1a411fd265fe","js/full-anon.en.js":"2435f0d168c4","js/full.en.js":"e4b72ebdc18f","js/wmd.en.js":"bd9234d44a40","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"d1d834ef85d2","js/help.en.js":"d3cc74d8a93a","js/tageditor.en.js":"6d51a5f8d7f3","js/tageditornew.en.js":"111b781cf314","js/inline-tag-editing.en.js":"f951bd09dc69","js/revisions.en.js":"33fd38144303","js/review.en.js":"f45b4ec094ea","js/tagsuggestions.en.js":"e4e7b952fcc7","js/post-validation.en.js":"c275fe37d674","js/explore-qlist.en.js":"73825bd006fc","js/events.en.js":"53bc48767091","js/mathjax-editing.en.js":"a09844f7b738"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
        
    </script>
    
        <script type="text/javascript">
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
</head>
<body class="revision-page">
    <noscript><div id="noscript-padding"></div></noscript>
    <div id="notify-container"></div>
    <div id="overlay-header"></div>
    <div id="custom-header"></div>
    <div class="container">
        <div id="header" class=headeranon>
            <div id="portalLink">
                <a class="genu" href="http://stackexchange.com" onclick="StackExchange.ready(function(){genuwine.click();});return false;">Stack Exchange</a>
            </div>
            <div id="topbar">
                <div id="hlinks">
                    
<span id="hlinks-user"></span>
<span id="hlinks-nav">                        <a href="/users/login?returnurl=%2fposts%2f72213%2frevisions">sign up</a>

 <span class="lsep">|</span>
                    <a href="/users/login?returnurl=%2fposts%2f72213%2frevisions">log in</a>

 <span class="lsep">|</span>
</span>
<span id="hlinks-custom"></span>
                </div>
                <div id="hsearch">
                    <form id="search" action="/search" method="get" autocomplete="off">
                        <div>
                            <input autocomplete="off" name="q" class="textbox" placeholder="search" tabindex="1" type="text" maxlength="240" size="28" value="">
                        </div>
                    </form>
                </div>
            </div>
            <br class="cbt">
            <div id="hlogo">
                <a href="/">
                    Mathematics
                </a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs mainnavsanon">
                    <ul>
                            <li><a id="nav-questions" href="/questions">Questions</a></li>
                            <li><a id="nav-tags" href="/tags">Tags</a></li>
                            <li><a id="nav-tour" href="/about">Tour</a></li>
                            <li><a id="nav-users" href="/users">Users</a></li>
                    </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion"  href="/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        



        <div id="content">
            


<div id="mainbar-full">

    <div class="subheader">
        <h1><a href="/questions/72213/whats-the-maximum-possible-score-in-this-mathy-solitaire-puzzle" class="question-hyperlink">Return to Question</a></h1>
    </div>

    <div id="revisions">
        <table>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('4bed982f-bd57-4ce8-9be7-3f33a6fa9f86') ">
                        <span id="rev-arrow-4bed982f-bd57-4ce8-9be7-3f33a6fa9f86" class="expander-arrow-show" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('4bed982f-bd57-4ce8-9be7-3f33a6fa9f86') ">
                        <span title="revision 4">4</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">Added &quot;Update&quot; note.</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/4bed982f-bd57-4ce8-9be7-3f33a6fa9f86/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/72213/4" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info user-hover">
    <div class="user-action-time">
        edited <span title="2011-10-15 06:19:41Z" class="relativetime">Oct 15 '11 at 6:19</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/409/blue"><div><img src="https://www.gravatar.com/avatar/fa72789c68ecc179eb8fbfd8535b53b0?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/409/blue">Blue</a><br>
        <span class="reputation-score" title="reputation score 10387" dir="ltr">10.4k</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="42 bronze badges"><span class="badge3"></span><span class="badgecount">42</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="rev4bed982f-bd57-4ce8-9be7-3f33a6fa9f86" class="revcell5" style="display: block">


<div class="diff-choices">
    <a href="#" class="action inline-html-diff selected" title="Show the rendered output with additions and removals inline">inline</a>
    <a href="#" class="action sidebyside-html-diff" title="Show the rendered output diffs side-by-side">side-by-side</a>
    <a href="#" class="action sidebyside-markdown-diff" title="Show the markdown source diffs side-by-side">side-by-side markdown</a>
    <br class="cbt" />
</div>

<div class="diffs">

        <div class="post-text inline-diff condensed">
            <div class="diff-skipped"><div></div></div><p><strong><span class="diff-add">UPDATE.</span></strong> <span class="diff-add">I conducted a new and (I believe) comprehensive computer search, and have confirmed the $915,382$ maximum. (Perhaps-unsurprisingly, maximal arrangements --for the most part-- put "$+$" and "$\times$" cards into two stacks, and "$-$" and "$\div$" into the remaining stacks. There can be some fiddling with black bottom cards, since they all provide the same result when their "operation" is performed on zero.) @FelixCQ's observation that stack-starting values come in pairs of opposite color was the key to constructing a manageable search strategy, so I'm inclined to accept his answer. However, I'll leave the question open for a while longer in case anyone wants to put forth an analysis that doesn't involve checking 5.67 billion individual cases.</span></p>
        </div>
        <div class="sidebyside-diff dno condensed">
            <div class="post-text">
                <div class="diff-skipped"><div></div></div>
            </div>
            <div class="post-text">
                <div class="diff-skipped"><div></div></div><p><strong><span class="diff-add">UPDATE.</span></strong> <span class="diff-add">I conducted a new and (I believe) comprehensive computer search, and have confirmed the $915,382$ maximum. (Perhaps-unsurprisingly, maximal arrangements --for the most part-- put "$+$" and "$\times$" cards into two stacks, and "$-$" and "$\div$" into the remaining stacks. There can be some fiddling with black bottom cards, since they all provide the same result when their "operation" is performed on zero.) @FelixCQ's observation that stack-starting values come in pairs of opposite color was the key to constructing a manageable search strategy, so I'm inclined to accept his answer. However, I'll leave the question open for a while longer in case anyone wants to put forth an analysis that doesn't involve checking 5.67 billion individual cases.</span></p>
            </div>
        </div>

</div>
                        </div>
                    </td>
                </tr>
                <tr id="spacer-4bed982f-bd57-4ce8-9be7-3f33a6fa9f86">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('bb44bc79-e900-475b-8641-2a13864c4bd3') ">
                        <span id="rev-arrow-bb44bc79-e900-475b-8641-2a13864c4bd3" class="expander-arrow-show" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('bb44bc79-e900-475b-8641-2a13864c4bd3') ">
                        <span title="revision 3">3</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">Clarifying rules (4 stacks, consecutive cards in stack), edited example card stack</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/bb44bc79-e900-475b-8641-2a13864c4bd3/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/72213/3" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info user-hover">
    <div class="user-action-time">
        edited <span title="2011-10-13 15:58:37Z" class="relativetime">Oct 13 '11 at 15:58</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/409/blue"><div><img src="https://www.gravatar.com/avatar/fa72789c68ecc179eb8fbfd8535b53b0?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/409/blue">Blue</a><br>
        <span class="reputation-score" title="reputation score 10387" dir="ltr">10.4k</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="42 bronze badges"><span class="badge3"></span><span class="badgecount">42</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="revbb44bc79-e900-475b-8641-2a13864c4bd3" class="revcell5" style="display: block">


<div class="diff-choices">
    <a href="#" class="action inline-html-diff selected" title="Show the rendered output with additions and removals inline">inline</a>
    <a href="#" class="action sidebyside-html-diff" title="Show the rendered output diffs side-by-side">side-by-side</a>
    <a href="#" class="action sidebyside-markdown-diff" title="Show the markdown source diffs side-by-side">side-by-side markdown</a>
    <br class="cbt" />
</div>

<div class="diffs">

        <div class="post-text inline-diff">
            <p> Consider a deck of 52 cards in four mathy suits --two red: "adds" ($+$) and "subs" ($-$); and two black: "muls" ($\times$) and "divs" ($\div$)-- and thirteen numerical values --"A" (1), 2, 3, 4, 5, 6, 7, 8, 9, 10, "J" (11), "Q" (12), "K" (13).</p>

<p> A solitaire game on this deck arranges the cards into<span class="diff-delete"> four stacks of thirteen cards each</span><span class="diff-add"> </span><strong><span class="diff-add">four stacks of thirteen cards each</span></strong>, according to two familiar rules:</p>

<ul>
<li> Cards in a stack must<span class="diff-delete"> alternate color</span><span class="diff-add"> </span><strong><span class="diff-add">alternate color</span></strong></li>
<li>(Reading from the bottom of the stack) The cards must<span class="diff-delete"> decrease in numerical value</span><span class="diff-add"> </span><strong><span class="diff-add">decrease in numerical value</span></strong>, although "K" is allowed to be placed on top of "A".<span class="diff-add"> Values within a stack must be </span><strong><span class="diff-add">consecutive</span></strong><span class="diff-add">.</span></li>
</ul>

<p> For example, this is (part of) a valid stack of cards:</p>

<p> $$[bottom] \;\; [5-] \;\; [4\times] \;\; [3+] \;\;<span class="diff-delete"> [2\times]</span><span class="diff-add"> [2\div]</span> \;\; [A+] \;\; [K\times] \;\; [Q-] \;\;<span class="diff-delete"> [J\div]</span><span class="diff-add"> [J\times] \;\; [10+]</span> \;\;<span class="diff-add"> [9\div] \;\;</span> \cdots \;\; [top]$$</p>

<p> Run-of-the-mill stuff, no? Well, consider that we assign a <em>score</em> to every stack of cards:</p>

<ul>
<li> With an initial value of zero, (and again reading from the bottom) we apply the arithmetic operation represented by each card in turn. (That is, you can think of each card as Reverse Polish Notation instructions.)</li>
<li> Division rounds toward zero<span class="diff-add"> (so that every computation step yields an integer)</span></li>
</ul>

<p><strong><span class="diff-add">Edit.</span></strong> <span class="diff-add">I changed the example to make more explicit use of rounding in the middle of a stack store computation, and to remove possibly-deceptive patterns in the suits.</span></p><span class="diff-add">

</span><p> The example partial stack would have a score of $-<span class="diff-delete">40$</span><span class="diff-add">124$</span>:</p>

<p> $$(0) [5-] \rightarrow -5$$
$$(-5) [4\times] \rightarrow -20$$
$$(-20)[3+] \rightarrow -17$$
$$(-17)<span class="diff-delete">[2\times]\rightarrow</span><span class="diff-add">[2\div]\rightarrow</span> -<span class="diff-delete">34$$</span><span class="diff-add">8.5 \rightarrow -8$$</span>
$$(-<span class="diff-delete">34</span><span class="diff-add">8</span>)[A+] \rightarrow -<span class="diff-delete">33$$</span><span class="diff-add">7$$</span>
$$(-<span class="diff-delete">33</span><span class="diff-add">7</span>) [K\times] \rightarrow -<span class="diff-delete">429$$</span><span class="diff-add">91$$</span>
$$(-<span class="diff-delete">429</span><span class="diff-add">91</span>) [Q-] \rightarrow -<span class="diff-delete">441$$</span><span class="diff-add">103$$</span>
$$(-<span class="diff-delete">441</span><span class="diff-add">103</span>)<span class="diff-delete"> [J\div]</span><span class="diff-add"> [J\times]</span> \rightarrow -<span class="diff-delete">40</span><span class="diff-add">1133$$
$$(-1133) [10+] \rightarrow -1123$$
$$(-1123) [9\div] \rightarrow -124</span>.<span class="diff-delete">090909\dots</span><span class="diff-add">777\dots</span> \rightarrow -<span class="diff-delete">40$$</span><span class="diff-add">124$$</span></p>

<p> Finally, we compute the <em>game score</em>:</p>

<ul>
<li> The game score is <strong>the absolute value of the sum</strong> of the stack scores (NOT the sum of the absolute values).</li>
</ul>

<blockquote>
  <p> Question: What's the largest possible game score?</p>
</blockquote>

<p> A fairly naive computer search gave me a value of $915,382$. I'll accept an answer that <em>proves</em> this (or whatever better number) is optimal. (Proof can come in the form of a comprehensive computer search algorithm, though I'd prefer something "logical".)</p>

        </div>
        <div class="sidebyside-diff dno">
            <div class="post-text">
                <p> Consider a deck of 52 cards in four mathy suits --two red: "adds" ($+$) and "subs" ($-$); and two black: "muls" ($\times$) and "divs" ($\div$)-- and thirteen numerical values --"A" (1), 2, 3, 4, 5, 6, 7, 8, 9, 10, "J" (11), "Q" (12), "K" (13).</p>

<p> A solitaire game on this deck arranges the cards into<span class="diff-delete"> four stacks of thirteen cards each</span>, according to two familiar rules:</p>

<ul>
<li> Cards in a stack must<span class="diff-delete"> alternate color</span></li>
<li>(Reading from the bottom of the stack) The cards must<span class="diff-delete"> decrease in numerical value</span>, although "K" is allowed to be placed on top of "A".</li>
</ul>

<p> For example, this is (part of) a valid stack of cards:</p>

<p> $$[bottom] \;\; [5-] \;\; [4\times] \;\; [3+] \;\;<span class="diff-delete"> [2\times]</span> \;\; [A+] \;\; [K\times] \;\; [Q-] \;\;<span class="diff-delete"> [J\div]</span> \;\; \cdots \;\; [top]$$</p>

<p> Run-of-the-mill stuff, no? Well, consider that we assign a <em>score</em> to every stack of cards:</p>

<ul>
<li> With an initial value of zero, (and again reading from the bottom) we apply the arithmetic operation represented by each card in turn. (That is, you can think of each card as Reverse Polish Notation instructions.)</li>
<li> Division rounds toward zero</li>
</ul>

<p> The example partial stack would have a score of $-<span class="diff-delete">40$</span>:</p>

<p> $$(0) [5-] \rightarrow -5$$
$$(-5) [4\times] \rightarrow -20$$
$$(-20)[3+] \rightarrow -17$$
$$(-17)<span class="diff-delete">[2\times]\rightarrow</span> -<span class="diff-delete">34$$</span>
$$(-<span class="diff-delete">34</span>)[A+] \rightarrow -<span class="diff-delete">33$$</span>
$$(-<span class="diff-delete">33</span>) [K\times] \rightarrow -<span class="diff-delete">429$$</span>
$$(-<span class="diff-delete">429</span>) [Q-] \rightarrow -<span class="diff-delete">441$$</span>
$$(-<span class="diff-delete">441</span>)<span class="diff-delete"> [J\div]</span> \rightarrow -<span class="diff-delete">40</span>.<span class="diff-delete">090909\dots</span> \rightarrow -<span class="diff-delete">40$$</span></p>

<p> Finally, we compute the <em>game score</em>:</p>

<ul>
<li> The game score is <strong>the absolute value of the sum</strong> of the stack scores (NOT the sum of the absolute values).</li>
</ul>

<blockquote>
  <p> Question: What's the largest possible game score?</p>
</blockquote>

<p> A fairly naive computer search gave me a value of $915,382$. I'll accept an answer that <em>proves</em> this (or whatever better number) is optimal. (Proof can come in the form of a comprehensive computer search algorithm, though I'd prefer something "logical".)</p>

            </div>
            <div class="post-text">
                <p> Consider a deck of 52 cards in four mathy suits --two red: "adds" ($+$) and "subs" ($-$); and two black: "muls" ($\times$) and "divs" ($\div$)-- and thirteen numerical values --"A" (1), 2, 3, 4, 5, 6, 7, 8, 9, 10, "J" (11), "Q" (12), "K" (13).</p>

<p> A solitaire game on this deck arranges the cards into<span class="diff-add"> </span><strong><span class="diff-add">four stacks of thirteen cards each</span></strong>, according to two familiar rules:</p>

<ul>
<li> Cards in a stack must<span class="diff-add"> </span><strong><span class="diff-add">alternate color</span></strong></li>
<li>(Reading from the bottom of the stack) The cards must<span class="diff-add"> </span><strong><span class="diff-add">decrease in numerical value</span></strong>, although "K" is allowed to be placed on top of "A".<span class="diff-add"> Values within a stack must be </span><strong><span class="diff-add">consecutive</span></strong><span class="diff-add">.</span></li>
</ul>

<p> For example, this is (part of) a valid stack of cards:</p>

<p> $$[bottom] \;\; [5-] \;\; [4\times] \;\; [3+] \;\;<span class="diff-add"> [2\div]</span> \;\; [A+] \;\; [K\times] \;\; [Q-] \;\;<span class="diff-add"> [J\times] \;\; [10+]</span> \;\;<span class="diff-add"> [9\div] \;\;</span> \cdots \;\; [top]$$</p>

<p> Run-of-the-mill stuff, no? Well, consider that we assign a <em>score</em> to every stack of cards:</p>

<ul>
<li> With an initial value of zero, (and again reading from the bottom) we apply the arithmetic operation represented by each card in turn. (That is, you can think of each card as Reverse Polish Notation instructions.)</li>
<li> Division rounds toward zero<span class="diff-add"> (so that every computation step yields an integer)</span></li>
</ul>

<p><strong><span class="diff-add">Edit.</span></strong> <span class="diff-add">I changed the example to make more explicit use of rounding in the middle of a stack store computation, and to remove possibly-deceptive patterns in the suits.</span></p><span class="diff-add">

</span><p> The example partial stack would have a score of $-<span class="diff-add">124$</span>:</p>

<p> $$(0) [5-] \rightarrow -5$$
$$(-5) [4\times] \rightarrow -20$$
$$(-20)[3+] \rightarrow -17$$
$$(-17)<span class="diff-add">[2\div]\rightarrow</span> -<span class="diff-add">8.5 \rightarrow -8$$</span>
$$(-<span class="diff-add">8</span>)[A+] \rightarrow -<span class="diff-add">7$$</span>
$$(-<span class="diff-add">7</span>) [K\times] \rightarrow -<span class="diff-add">91$$</span>
$$(-<span class="diff-add">91</span>) [Q-] \rightarrow -<span class="diff-add">103$$</span>
$$(-<span class="diff-add">103</span>)<span class="diff-add"> [J\times]</span> \rightarrow -<span class="diff-add">1133$$
$$(-1133) [10+] \rightarrow -1123$$
$$(-1123) [9\div] \rightarrow -124</span>.<span class="diff-add">777\dots</span> \rightarrow -<span class="diff-add">124$$</span></p>

<p> Finally, we compute the <em>game score</em>:</p>

<ul>
<li> The game score is <strong>the absolute value of the sum</strong> of the stack scores (NOT the sum of the absolute values).</li>
</ul>

<blockquote>
  <p> Question: What's the largest possible game score?</p>
</blockquote>

<p> A fairly naive computer search gave me a value of $915,382$. I'll accept an answer that <em>proves</em> this (or whatever better number) is optimal. (Proof can come in the form of a comprehensive computer search algorithm, though I'd prefer something "logical".)</p>

            </div>
        </div>

</div>
                        </div>
                    </td>
                </tr>
                <tr id="spacer-bb44bc79-e900-475b-8641-2a13864c4bd3">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('c10517f1-9817-4a37-8c47-1091170a0416') ">
                        <span id="rev-arrow-c10517f1-9817-4a37-8c47-1091170a0416" class="expander-arrow-show" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('c10517f1-9817-4a37-8c47-1091170a0416') ">
                        <span title="revision 2">2</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">added 39 characters in body</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/c10517f1-9817-4a37-8c47-1091170a0416/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/72213/2" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info user-hover">
    <div class="user-action-time">
        edited <span title="2011-10-13 06:01:15Z" class="relativetime">Oct 13 '11 at 6:01</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/409/blue"><div><img src="https://www.gravatar.com/avatar/fa72789c68ecc179eb8fbfd8535b53b0?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/409/blue">Blue</a><br>
        <span class="reputation-score" title="reputation score 10387" dir="ltr">10.4k</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="42 bronze badges"><span class="badge3"></span><span class="badgecount">42</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="revc10517f1-9817-4a37-8c47-1091170a0416" class="revcell5" style="display: block">


<div class="diff-choices">
    <a href="#" class="action inline-html-diff selected" title="Show the rendered output with additions and removals inline">inline</a>
    <a href="#" class="action sidebyside-html-diff" title="Show the rendered output diffs side-by-side">side-by-side</a>
    <a href="#" class="action sidebyside-markdown-diff" title="Show the markdown source diffs side-by-side">side-by-side markdown</a>
    <br class="cbt" />
</div>

<div class="diffs">

        <div class="post-text inline-diff">
            <p> Consider a deck of 52 cards in four mathy suits --two red: "adds" ($+$) and "subs" ($-$); and two black: "muls" ($\times$) and "divs" ($\div$)-- and thirteen numerical values --"A" (1), 2, 3, 4, 5, 6, 7, 8, 9, 10, "J" (11), "Q" (12), "K" (13).</p>

<p> A solitaire game on this deck arranges the cards into four stacks of thirteen cards each, according to two familiar rules:</p>

<ul>
<li> Cards in a stack must alternate color</li>
<li>(Reading from the bottom of the stack) The cards must decrease in numerical value, although "K" is allowed to be placed on top of "A".</li>
</ul>

<p> For example, this is (part of) a valid stack of cards:</p>

<p> $$[bottom] \;\; [5-] \;\; [4\times] \;\; [3+] \;\; [2\times] \;\; [A+] \;\; [K\times] \;\; [Q-] \;\; [J\div] \;\; \cdots \;\; [top]$$</p>

<p> Run-of-the-mill stuff, no? Well, consider that we assign a <em>score</em> to every stack of cards:</p>

<ul>
<li> With an initial value of zero, (and again reading from the bottom) we apply the arithmetic operation represented by each card in turn. (That is, you can think of each card as Reverse Polish Notation instructions.)</li>
<li> Division rounds toward zero</li>
</ul>

<p> The example partial stack would have a score of $-40$:</p>

<p> $$(0) [5-] \rightarrow -5$$
$$(-5) [4\times] \rightarrow -20$$
$$(-20)[3+] \rightarrow -17$$
$$(-17)[2\times]\rightarrow -34$$
$$(-34)[A+] \rightarrow -33$$
$$(-33) [K\times] \rightarrow -429$$
$$(-429) [Q-] \rightarrow -441$$
$$(-441) [J\div] \rightarrow -40.090909\dots \rightarrow -40$$</p>

<p> Finally, we compute the <em>game score</em>:</p>

<ul>
<li> The game score is<span class="diff-add"> </span><strong><span class="diff-add">the absolute value of the sum</span></strong> <span class="diff-add">of</span> the<span class="diff-add"> stack scores (NOT the</span> sum of the<span class="diff-delete"> stack scores</span><span class="diff-add"> absolute values)</span>.</li>
</ul>

<blockquote>
  <p> Question: What's the largest possible game score<span class="diff-delete"> (in absolute value)</span>?</p>
</blockquote>

<p> A fairly naive computer search gave me a value of $915,382$. I'll accept an answer that <em>proves</em> this (or whatever better number) is optimal. (Proof can come in the form of a comprehensive computer search algorithm, though I'd prefer something "logical".)</p>

        </div>
        <div class="sidebyside-diff dno">
            <div class="post-text">
                <p> Consider a deck of 52 cards in four mathy suits --two red: "adds" ($+$) and "subs" ($-$); and two black: "muls" ($\times$) and "divs" ($\div$)-- and thirteen numerical values --"A" (1), 2, 3, 4, 5, 6, 7, 8, 9, 10, "J" (11), "Q" (12), "K" (13).</p>

<p> A solitaire game on this deck arranges the cards into four stacks of thirteen cards each, according to two familiar rules:</p>

<ul>
<li> Cards in a stack must alternate color</li>
<li>(Reading from the bottom of the stack) The cards must decrease in numerical value, although "K" is allowed to be placed on top of "A".</li>
</ul>

<p> For example, this is (part of) a valid stack of cards:</p>

<p> $$[bottom] \;\; [5-] \;\; [4\times] \;\; [3+] \;\; [2\times] \;\; [A+] \;\; [K\times] \;\; [Q-] \;\; [J\div] \;\; \cdots \;\; [top]$$</p>

<p> Run-of-the-mill stuff, no? Well, consider that we assign a <em>score</em> to every stack of cards:</p>

<ul>
<li> With an initial value of zero, (and again reading from the bottom) we apply the arithmetic operation represented by each card in turn. (That is, you can think of each card as Reverse Polish Notation instructions.)</li>
<li> Division rounds toward zero</li>
</ul>

<p> The example partial stack would have a score of $-40$:</p>

<p> $$(0) [5-] \rightarrow -5$$
$$(-5) [4\times] \rightarrow -20$$
$$(-20)[3+] \rightarrow -17$$
$$(-17)[2\times]\rightarrow -34$$
$$(-34)[A+] \rightarrow -33$$
$$(-33) [K\times] \rightarrow -429$$
$$(-429) [Q-] \rightarrow -441$$
$$(-441) [J\div] \rightarrow -40.090909\dots \rightarrow -40$$</p>

<p> Finally, we compute the <em>game score</em>:</p>

<ul>
<li> The game score is the sum of the<span class="diff-delete"> stack scores</span>.</li>
</ul>

<blockquote>
  <p> Question: What's the largest possible game score<span class="diff-delete"> (in absolute value)</span>?</p>
</blockquote>

<p> A fairly naive computer search gave me a value of $915,382$. I'll accept an answer that <em>proves</em> this (or whatever better number) is optimal. (Proof can come in the form of a comprehensive computer search algorithm, though I'd prefer something "logical".)</p>

            </div>
            <div class="post-text">
                <p> Consider a deck of 52 cards in four mathy suits --two red: "adds" ($+$) and "subs" ($-$); and two black: "muls" ($\times$) and "divs" ($\div$)-- and thirteen numerical values --"A" (1), 2, 3, 4, 5, 6, 7, 8, 9, 10, "J" (11), "Q" (12), "K" (13).</p>

<p> A solitaire game on this deck arranges the cards into four stacks of thirteen cards each, according to two familiar rules:</p>

<ul>
<li> Cards in a stack must alternate color</li>
<li>(Reading from the bottom of the stack) The cards must decrease in numerical value, although "K" is allowed to be placed on top of "A".</li>
</ul>

<p> For example, this is (part of) a valid stack of cards:</p>

<p> $$[bottom] \;\; [5-] \;\; [4\times] \;\; [3+] \;\; [2\times] \;\; [A+] \;\; [K\times] \;\; [Q-] \;\; [J\div] \;\; \cdots \;\; [top]$$</p>

<p> Run-of-the-mill stuff, no? Well, consider that we assign a <em>score</em> to every stack of cards:</p>

<ul>
<li> With an initial value of zero, (and again reading from the bottom) we apply the arithmetic operation represented by each card in turn. (That is, you can think of each card as Reverse Polish Notation instructions.)</li>
<li> Division rounds toward zero</li>
</ul>

<p> The example partial stack would have a score of $-40$:</p>

<p> $$(0) [5-] \rightarrow -5$$
$$(-5) [4\times] \rightarrow -20$$
$$(-20)[3+] \rightarrow -17$$
$$(-17)[2\times]\rightarrow -34$$
$$(-34)[A+] \rightarrow -33$$
$$(-33) [K\times] \rightarrow -429$$
$$(-429) [Q-] \rightarrow -441$$
$$(-441) [J\div] \rightarrow -40.090909\dots \rightarrow -40$$</p>

<p> Finally, we compute the <em>game score</em>:</p>

<ul>
<li> The game score is<span class="diff-add"> </span><strong><span class="diff-add">the absolute value of the sum</span></strong> <span class="diff-add">of</span> the<span class="diff-add"> stack scores (NOT the</span> sum of the<span class="diff-add"> absolute values)</span>.</li>
</ul>

<blockquote>
  <p> Question: What's the largest possible game score?</p>
</blockquote>

<p> A fairly naive computer search gave me a value of $915,382$. I'll accept an answer that <em>proves</em> this (or whatever better number) is optimal. (Proof can come in the form of a comprehensive computer search algorithm, though I'd prefer something "logical".)</p>

            </div>
        </div>

</div>
                        </div>
                    </td>
                </tr>
                <tr id="spacer-c10517f1-9817-4a37-8c47-1091170a0416">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('6e2bce87-01ba-4889-b826-f2d30507025e') ">
                        <span id="rev-arrow-6e2bce87-01ba-4889-b826-f2d30507025e" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('6e2bce87-01ba-4889-b826-f2d30507025e') ">
                        <span title="revision 1">1</span>
                    </td>
                    <td class="revcell3 vm">
                        <br>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/6e2bce87-01ba-4889-b826-f2d30507025e/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/72213/1" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info user-hover">
    <div class="user-action-time">
        asked <span title="2011-10-13 05:51:39Z" class="relativetime">Oct 13 '11 at 5:51</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/409/blue"><div><img src="https://www.gravatar.com/avatar/fa72789c68ecc179eb8fbfd8535b53b0?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/409/blue">Blue</a><br>
        <span class="reputation-score" title="reputation score 10387" dir="ltr">10.4k</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="42 bronze badges"><span class="badge3"></span><span class="badgecount">42</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="rev6e2bce87-01ba-4889-b826-f2d30507025e" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-6e2bce87-01ba-4889-b826-f2d30507025e">
                    <td colspan="4" height="10px"></td>
                </tr>

        </table>

            <div class="pager fl">
        





    </div>


    </div>
</div>

<script type="text/javascript">
    StackExchange.using("revisions", function () { StackExchange.revisions.init(72213) });
</script>


        </div>
    </div>
    <div id="footer" class="categories">
        <div class="footerwrap">
            <div id="footer-menu">
                <div class="top-footer-links">
                        <a href="/about">about</a>
                    <a href="/help">help</a>
                        <a href="/help/badges">badges</a>
                    <a href="http://blog.stackexchange.com?blb=1">blog</a>
                        <a href="http://chat.stackexchange.com">chat</a>
                    <a href="http://data.stackexchange.com">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackexchange.com/about/hiring">jobs</a>
                    <a href="http://stackexchange.com/about/contact">advertising info</a>

                    <a onclick='StackExchange.switchMobile("on", "/posts/72213/revisions")'>mobile</a>
                    <b><a href="/contact">contact us</a></b>
                        <b><a href="http://meta.math.stackexchange.com">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tr>
            <th colspan=3>
                Technology
            </th>
            <th >
                Life / Arts
            </th>
            <th >
                Culture / Recreation
            </th>
            <th >
                Science
            </th>
            <th >
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="http://stackoverflow.com" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="http://serverfault.com" title="professional system and network administrators">Server Fault</a></li>
                        <li><a href="http://superuser.com" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="http://webapps.stackexchange.com" title="power users of web applications">Web Applications</a></li>
                        <li><a href="http://askubuntu.com" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="http://webmasters.stackexchange.com" title="pro webmasters">Webmasters</a></li>
                        <li><a href="http://gamedev.stackexchange.com" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="http://tex.stackexchange.com" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://programmers.stackexchange.com" title="professional programmers interested in conceptual questions about software development">Programmers</a></li>
                        <li><a href="http://unix.stackexchange.com" title="users of Linux, FreeBSD and other Un*x-like operating systems.">Unix &amp; Linux</a></li>
                        <li><a href="http://apple.stackexchange.com" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="http://wordpress.stackexchange.com" title="WordPress developers and administrators">WordPress Answers</a></li>
                        <li><a href="http://gis.stackexchange.com" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="http://electronics.stackexchange.com" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="http://android.stackexchange.com" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="http://security.stackexchange.com" title="Information security professionals">Information Security</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://dba.stackexchange.com" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="http://drupal.stackexchange.com" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="http://sharepoint.stackexchange.com" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="http://ux.stackexchange.com" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="http://mathematica.stackexchange.com" title="users of Mathematica">Mathematica</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (14)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://photo.stackexchange.com" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="http://scifi.stackexchange.com" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="http://cooking.stackexchange.com" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="http://diy.stackexchange.com" title="contractors and serious DIYers">Home Improvement</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (13)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://english.stackexchange.com" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="http://skeptics.stackexchange.com" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="http://judaism.stackexchange.com" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="http://travel.stackexchange.com" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="http://christianity.stackexchange.com" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="http://gaming.stackexchange.com" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                        <li><a href="http://bicycles.stackexchange.com" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="http://rpg.stackexchange.com" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (21)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://math.stackexchange.com" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="http://stats.stackexchange.com" title="statisticians, data analysts, data miners and data visualization experts">Cross Validated (stats)</a></li>
                        <li><a href="http://cstheory.stackexchange.com" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="http://physics.stackexchange.com" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="http://mathoverflow.net" title="professional mathematicians">MathOverflow</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (7)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://stackapps.com" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="http://meta.stackoverflow.com" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Overflow</a></li>
                        <li><a href="http://area51.stackexchange.com" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="http://careers.stackoverflow.com">Stack Overflow Careers</a></li>
                    
                </ol>
            </td>
    </tr>
</table>
                </div>
            </div>

            <div id="copyright">
                site design / logo &#169; 2013 stack exchange inc; user contributions licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc-wiki</a> 
 with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="footer-flair">
                <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="cc-wiki-link"></a>
            </div>
            <div id="svnrev">
                rev 2013.11.22.1173
            </div>
            
        </div>
    </div>
    <noscript>
        <div id="noscript-warning">Mathematics Stack Exchange works best with JavaScript enabled<img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"></div>
    </noscript>

    <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-5620270-24']);
        _gaq.push(['_setDomainName','.stackexchange.com']);
_gaq.push(['_trackPageview']);
    var _qevents = _qevents || [];
    var _comscore = _comscore || [];
    (function () {
        var ssl='https:'==document.location.protocol,
            s=document.getElementsByTagName('script')[0],
            ga=document.createElement('script');
        ga.type='text/javascript';
        ga.async=true;
        ga.src=(ssl?'https://ssl':'http://www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(ga,s);
        var sc=document.createElement('script');
        sc.type='text/javascript';
        sc.async=true;
        sc.src=(ssl?'https://secure':'http://edge')+'.quantserve.com/quant.js';
        s.parentNode.insertBefore(sc, s);
        
        var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true;
        s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";
        el.parentNode.insertBefore(s, el);
        
    })();
    _comscore.push({ c1: "2", c2: "17440561" });
    _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
    </script>        
    
</body>
</html>
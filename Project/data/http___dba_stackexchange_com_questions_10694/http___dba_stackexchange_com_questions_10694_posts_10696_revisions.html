<!DOCTYPE html>
<html>
<head>
    
    <title>Revisions - Database Administrators Stack Exchange</title>
    <link rel="shortcut icon" href="//cdn.sstatic.net/dba/img/favicon.ico">
    <link rel="apple-touch-icon image_src" href="//cdn.sstatic.net/dba/img/apple-touch-icon.png">
    <link rel="search" type="application/opensearchdescription+xml" title="Database Administrators Stack Exchange" href="/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@StackDBAs" />
    <meta name="twitter:domain" content="dba.stackexchange.com"/>
    <meta name="og:type" content="website" />
    <meta name="og:image" content="http://cdn.sstatic.net/dba/img/apple-touch-icon@2.png?v=246e2cb2439c"/>
    <meta name="og:title" content="Revisions" />
    <meta name="og:description" content="Q&amp;A for database professionals who wish to improve their database skills and learn from others in the community" />
    <meta name="og:url" content="http://dba.stackexchange.com/posts/10696/revisions"/>

    
    
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="//cdn.sstatic.net/Js/stub.en.js?v=e3d47b73fa12" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.sstatic.net/dba/all.css?v=bfd94666d844">
    

    <script type="text/javascript">
        StackExchange.ready(function () {
            StackExchange.realtime.init('wss://qa.sockets.stackexchange.com,ws://qa.sockets.stackexchange.com');
            StackExchange.realtime.subscribeToInboxNotifications();
                    StackExchange.realtime.subscribeToReputationNotifications('182');
                        });
    </script>
    <script type="text/javascript">
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","serverTime":1385090408,"styleCode":true,"enableUserHovercards":true,"site":{"name":"Database Administrators Stack Exchange","description":"Q&A for database professionals who wish to improve their database skills and learn from others in the community","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdsB7sSAAAAAAzjgEF_Hd8vXv-C42sa_KyofaGR","enableSocialMediaInSharePopup":true},"user":{"fkey":"f51c005c36aeb04be7163e16a81b52d5","isAnonymous":true}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"e0bbd4760e83","js/moderator.en.js":"1a411fd265fe","js/full-anon.en.js":"2435f0d168c4","js/full.en.js":"e4b72ebdc18f","js/wmd.en.js":"bd9234d44a40","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"d1d834ef85d2","js/help.en.js":"d3cc74d8a93a","js/tageditor.en.js":"6d51a5f8d7f3","js/tageditornew.en.js":"111b781cf314","js/inline-tag-editing.en.js":"f951bd09dc69","js/revisions.en.js":"33fd38144303","js/review.en.js":"f45b4ec094ea","js/tagsuggestions.en.js":"e4e7b952fcc7","js/post-validation.en.js":"c275fe37d674","js/explore-qlist.en.js":"73825bd006fc","js/events.en.js":"53bc48767091"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
        
    </script>
    
        <script type="text/javascript">
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
</head>
<body class="revision-page">
    <noscript><div id="noscript-padding"></div></noscript>
    <div id="notify-container"></div>
    <div id="overlay-header"></div>
    <div id="custom-header"></div>
    <div class="container">
        <div id="header" class=headeranon>
            <div id="portalLink">
                <a class="genu" href="http://stackexchange.com" onclick="StackExchange.ready(function(){genuwine.click();});return false;">Stack Exchange</a>
            </div>
            <div id="topbar">
                <div id="hlinks">
                    
<span id="hlinks-user"></span>
<span id="hlinks-nav">                        <a href="/users/login?returnurl=%2fposts%2f10696%2frevisions">sign up</a>

 <span class="lsep">|</span>
                    <a href="/users/login?returnurl=%2fposts%2f10696%2frevisions">log in</a>

 <span class="lsep">|</span>
</span>
<span id="hlinks-custom"></span>
                </div>
                <div id="hsearch">
                    <form id="search" action="/search" method="get" autocomplete="off">
                        <div>
                            <input autocomplete="off" name="q" class="textbox" placeholder="search" tabindex="1" type="text" maxlength="240" size="28" value="">
                        </div>
                    </form>
                </div>
            </div>
            <br class="cbt">
            <div id="hlogo">
                <a href="/">
                    Database Administrators
                </a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs mainnavsanon">
                    <ul>
                            <li><a id="nav-questions" href="/questions">Questions</a></li>
                            <li><a id="nav-tags" href="/tags">Tags</a></li>
                            <li><a id="nav-tour" href="/about">Tour</a></li>
                            <li><a id="nav-users" href="/users">Users</a></li>
                    </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion"  href="/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        



        <div id="content">
            


<div id="mainbar-full">

    <div class="subheader">
        <h1><a href="/questions/10694/pattern-matching-with-like-similar-to-or-regular-expressions-in-postgresql/10696#10696" class="answer-hyperlink ">Return to Answer</a></h1>
    </div>

    <div id="revisions">
        <table>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('09d52f1d-9108-426d-af90-bdfe393d55dd') ">
                        <span id="rev-arrow-09d52f1d-9108-426d-af90-bdfe393d55dd" class="expander-arrow-show" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('09d52f1d-9108-426d-af90-bdfe393d55dd') ">
                        <span title="revision 11">11</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">make this more complete, since it has a lot of references. Add links, trim noise, improve format.</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/09d52f1d-9108-426d-af90-bdfe393d55dd/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/11" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2013-07-28 02:07:06Z" class="relativetime">Jul 28 at 2:07</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="rev09d52f1d-9108-426d-af90-bdfe393d55dd" class="revcell5" style="display: block">


<div class="diff-choices">
    <a href="#" class="action inline-html-diff selected" title="Show the rendered output with additions and removals inline">inline</a>
    <a href="#" class="action sidebyside-html-diff" title="Show the rendered output diffs side-by-side">side-by-side</a>
    <a href="#" class="action sidebyside-markdown-diff" title="Show the markdown source diffs side-by-side">side-by-side markdown</a>
    <br class="cbt" />
</div>

<div class="diffs">

        <div class="post-text inline-diff condensed">
            <p> Your query is pretty much the optimum. Syntax won't get much shorter, query won't get much faster<span class="diff-delete">. I only reformat</span>:</p><div class="diff-skipped"><div></div></div><p> If you really want to<span class="diff-delete"> shorten the syntax a bit</span><span class="diff-add"> </span><em><span class="diff-add">shorten the syntax</span></em>, use a regular expression with <em>branches</em>:</p><div class="diff-skipped"><div></div></div><p> Or slightly faster,<span class="diff-delete"> yet,</span> with a <em>character class</em>:</p><div class="diff-skipped"><div></div></div><p> A quick test<span class="diff-add"> without index</span> yields faster results than for <code>SIMILAR TO</code> in<span class="diff-delete"> both cases</span><span class="diff-add"> either case</span> for me.<span class="diff-delete"> Either is also slightly faster than two</span><br><span class="diff-add">
With an appropriate B-Tree index in place,</span> <code>LIKE</code> <span class="diff-delete">conditions (One scan with an expensive condition is still slightly cheaper than two scans with a cheap condition</span><span class="diff-add">wins this race by orders of magnitude</span>.<span class="diff-delete">)</span></p><p><code><span class="diff-delete">SIMILAR TO</span></code> <span class="diff-delete">is a peculiar halfbreed of </span><code><span class="diff-delete">LIKE</span></code> <span class="diff-delete">and regular expressions that's only included in PostgreSQL because it is in an SQL standard. I hardly ever use it myself. More</span><span class="diff-add"> Read the basics</span> about<span class="diff-delete"> that further down</span><span class="diff-add"> </span><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html" rel="nofollow"><span class="diff-add">pattern matching in the manual</span></a>.</p><div class="diff-skipped"><div></div></div><p> If you are concerned with performance, create an index like this<span class="diff-add"> for bigger tables</span>:</p><pre><code>CREATE INDEX <span class="diff-delete">spelers_name_text_pattern_ops_idx
</span><span class="diff-add">spelers_name_special_idx </span>ON spelers (name text_pattern_ops);
</code></pre><p><span class="diff-delete"> Will speed up</span><span class="diff-add"> Makes</span> this kind of query<span class="diff-add"> faster</span> by orders of magnitude<span class="diff-delete"> in bigger tables</span>. Special considerations apply for locale-specific sort order. Read more about <a href="http://www.postgresql.org/docs/current/interactive/indexes-opclass.html" rel="nofollow">operator classes in the manual</a>. If you are using the standard "C" locale (most people don't),<span class="diff-delete"> then</span> a plain index<span class="diff-add"> (with default operator class)</span> will do.</p><p><span class="diff-delete"> Note, that such</span><span class="diff-add"> Such</span> an index<span class="diff-delete"> cannot be utilized</span><span class="diff-add"> is only good</span> for<span class="diff-delete"> a full</span><span class="diff-add"> left</span>-<span class="diff-delete">text search. Only</span><span class="diff-add">anchored</span> patterns<span class="diff-delete"> anchored at</span><span class="diff-add"> (matching from</span> the start<span class="diff-delete"> will use it</span><span class="diff-add"> of the string)</span>.</p><p><span class="diff-delete"> Note also, that </span><code>SIMILAR TO</code> or regular expressions with<span class="diff-add"> basic left-anchored expressions can use this index, too. But </span><em><span class="diff-add">not</span></em> <span class="diff-add">with</span> branches <code>(B|D)</code> or character classes <code>[BD]</code> <span class="diff-delete">in the pattern will also </span><em><span class="diff-delete">not</span></em> <span class="diff-delete">use the index </span>(at least in my tests on PostgreSQL 9.0).</p><p><span class="diff-delete"> Read about </span><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html" rel="nofollow"><span class="diff-delete">pattern matching</span></a> <span class="diff-delete">in the manual</span><span class="diff-add"> Trigram matches or text search use special GIN or GiST indexes</span>.</p><hr><span class="diff-delete">&nbsp;</span><h3><span class="diff-add">Overview of pattern matching operators</span></h3><ul><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html#FUNCTIONS-LIKE" rel="nofollow"><strong><code><span class="diff-add">LIKE</span></code></strong></a> <span class="diff-add">(</span><strong><code><span class="diff-add">~~</span></code></strong><span class="diff-add">) is simple and fast but limited in its capabilities. pg_trgm extends index support.</span></p></li><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html#FUNCTIONS-POSIX-REGEXP" rel="nofollow"><strong><code><span class="diff-add">~</span></code></strong></a> <span class="diff-add">is powerful but more complex and may be slow for anything more than very basic expressions.</span></p></li><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP" rel="nofollow"><strong><code><span class="diff-add">SIMILAR TO</span></code></strong></a> <span class="diff-add">is just </span><strong><em><span class="diff-add">pointless</span></em></strong><span class="diff-add">. A peculiar halfbreed of </span><code><span class="diff-add">LIKE</span></code> <span class="diff-add">and regular expressions. I never use it. Explanation below.</span></p></li><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/pgtrgm.html" rel="nofollow"><strong><span class="diff-add">'%'</span></strong></a> <span class="diff-add">is the "similarity" operator, provided by the additional module pg_trgm.</span></p></li><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/functions-textsearch.html" rel="nofollow"><strong><code><span class="diff-add">@@</span></code></strong></a> <span class="diff-add">is the text search operator.</span></p></li><span class="diff-add">
</span></ul><h3>pg_trgm<span class="diff-add"> - trigram matching</span></h3><p> Beginning with <strong>PostgreSQL 9.1</strong> you can facilitate the extension <a href="http://www.postgresql.org/docs/current/interactive/pgtrgm.html" rel="nofollow"><code>pg_trgm</code></a> to provide index support for <em>any</em> <span class="diff-delete">LIKE </span><code><span class="diff-add">LIKE</span></code> /<span class="diff-delete"> ILIKE pattern</span><span class="diff-add"> </span><code><span class="diff-add">ILIKE</span></code> <span class="diff-add">pattern</span> with a GIN or GiST index.</p><div class="diff-skipped"><div></div></div><p> pg_trgm also provides the "similarity" operator<span class="diff-delete"> '%', which may be interesting in the context</span><span class="diff-add"> </span><code><span class="diff-add">'%'</span></code></p><h3><span class="diff-add">Text search</span></h3><p><span class="diff-add"> Is a special type</span> of pattern matching<span class="diff-add"> with separate infrastructure and index types. It uses dictionaries and stemming and is a great tool to find words in documents, especially for natural languages</span>.</p><hr><span class="diff-delete">&nbsp;</span><p><span class="diff-add"> Consider the </span><a href="http://www.postgresql.org/docs/current/interactive/textsearch.html" rel="nofollow"><span class="diff-add">introduction in the manual</span></a> <span class="diff-add">and the </span><a href="http://www.postgresql.org/docs/current/interactive/functions-textsearch.html" rel="nofollow"><span class="diff-add">overview of operators and functions</span></a><span class="diff-add">.</span></p><p><span class="diff-add"> The additional module </span><a href="http://www.postgresql.org/docs/current/interactive/fuzzystrmatch.html" rel="nofollow"><strong><span class="diff-add">fuzzystrmatch</span></strong></a> <span class="diff-add">offers some more options, but performance is generally inferior to all of the above.</span></p><h3>Why are regular expressions (<code>~</code>)<span class="diff-add"> always</span> faster than <code>SIMILAR TO</code>?</h3><p> The answer is simple. <code>SIMILAR TO</code> expressions are rewritten into regular expressions internally. So, for every <code>SIMILAR TO</code> expression, there is<span class="diff-delete"> at least one</span><span class="diff-add"> </span><em><span class="diff-add">at least</span></em> <span class="diff-add">one</span> faster regular expression (that saves the overhead of rewriting the expression). There is no performance gain in using <code>SIMILAR TO</code> <strong>ever</strong>.</p><div class="diff-skipped"><div></div></div><p><code><span class="diff-add">SIMILAR TO</span></code> <span class="diff-add">is only supported in PostgreSQL because it ended up in early drafts of the SQL standard. They still haven't gotten rid of it. But there are plans to remove it and include regexp matches instead - or so I heard.</span></p><p><code>EXPLAIN ANALYZE</code> reveals it. Just try with any table yourself! </p><div class="diff-skipped"><div></div></div><hr><span class="diff-delete">&nbsp;</span><h3>Ultimate performance<span class="diff-add"> for this particular case</span></h3><div class="diff-skipped"><div></div></div><p> The same is<span class="diff-delete"> also the case</span><span class="diff-add"> true</span> for indexes on <code>varchar</code> types with <code>varchar_pattern_ops</code> or <code>char</code> with <code>bpchar_pattern_ops</code>.</p><div class="diff-skipped"><div></div></div><p> Of course, if you should happen to search for <strong>adjacent Initials</strong> <span class="diff-delete">(Martin's question in the comments)</span><span class="diff-add">&nbsp;</span></strong>, you can<span class="diff-delete"> further</span> simplify<span class="diff-add"> further</span>:</p><div class="diff-skipped"><div></div></div><p> The gain over plain use of <code>~</code> or <code>~~</code> is small. If performance isn't your paramount requirement, you<span class="diff-delete"> might</span><span class="diff-add"> should</span> just stick with the standard operators - arriving at what you already have in the question.</p>
        </div>
        <div class="sidebyside-diff dno condensed">
            <div class="post-text">
                <p> Your query is pretty much the optimum. Syntax won't get much shorter, query won't get much faster<span class="diff-delete">. I only reformat</span>:</p><div class="diff-skipped"><div></div></div><p> If you really want to<span class="diff-delete"> shorten the syntax a bit</span>, use a regular expression with <em>branches</em>:</p><div class="diff-skipped"><div></div></div><p> Or slightly faster,<span class="diff-delete"> yet,</span> with a <em>character class</em>:</p><div class="diff-skipped"><div></div></div><p> A quick test yields faster results than for <code>SIMILAR TO</code> in<span class="diff-delete"> both cases</span> for me.<span class="diff-delete"> Either is also slightly faster than two</span> <code>LIKE</code> <span class="diff-delete">conditions (One scan with an expensive condition is still slightly cheaper than two scans with a cheap condition</span>.<span class="diff-delete">)</span></p><p><code><span class="diff-delete">SIMILAR TO</span></code> <span class="diff-delete">is a peculiar halfbreed of </span><code><span class="diff-delete">LIKE</span></code> <span class="diff-delete">and regular expressions that's only included in PostgreSQL because it is in an SQL standard. I hardly ever use it myself. More</span> about<span class="diff-delete"> that further down</span>.</p><div class="diff-skipped"><div></div></div><p> If you are concerned with performance, create an index like this:</p><pre><code>CREATE INDEX <span class="diff-delete">spelers_name_text_pattern_ops_idx
</span>ON spelers (name text_pattern_ops);
</code></pre><p><span class="diff-delete"> Will speed up</span> this kind of query by orders of magnitude<span class="diff-delete"> in bigger tables</span>. Special considerations apply for locale-specific sort order. Read more about <a href="http://www.postgresql.org/docs/current/interactive/indexes-opclass.html" rel="nofollow">operator classes in the manual</a>. If you are using the standard "C" locale (most people don't),<span class="diff-delete"> then</span> a plain index will do.</p><p><span class="diff-delete"> Note, that such</span> an index<span class="diff-delete"> cannot be utilized</span> for<span class="diff-delete"> a full</span>-<span class="diff-delete">text search. Only</span> patterns<span class="diff-delete"> anchored at</span> the start<span class="diff-delete"> will use it</span>.</p><p><span class="diff-delete"> Note also, that </span><code>SIMILAR TO</code> or regular expressions with branches <code>(B|D)</code> or character classes <code>[BD]</code> <span class="diff-delete">in the pattern will also </span><em><span class="diff-delete">not</span></em> <span class="diff-delete">use the index </span>(at least in my tests on PostgreSQL 9.0).</p><p><span class="diff-delete"> Read about </span><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html" rel="nofollow"><span class="diff-delete">pattern matching</span></a> <span class="diff-delete">in the manual</span>.</p><hr><span class="diff-delete">&nbsp;</span><h3>pg_trgm</h3><p> Beginning with <strong>PostgreSQL 9.1</strong> you can facilitate the extension <a href="http://www.postgresql.org/docs/current/interactive/pgtrgm.html" rel="nofollow"><code>pg_trgm</code></a> to provide index support for <em>any</em> <span class="diff-delete">LIKE </span>/<span class="diff-delete"> ILIKE pattern</span> with a GIN or GiST index.</p><div class="diff-skipped"><div></div></div><p> pg_trgm also provides the "similarity" operator<span class="diff-delete"> '%', which may be interesting in the context</span> of pattern matching.</p><hr><span class="diff-delete">&nbsp;</span><h3>Why are regular expressions (<code>~</code>) faster than <code>SIMILAR TO</code>?</h3><p> The answer is simple. <code>SIMILAR TO</code> expressions are rewritten into regular expressions internally. So, for every <code>SIMILAR TO</code> expression, there is<span class="diff-delete"> at least one</span> faster regular expression (that saves the overhead of rewriting the expression). There is no performance gain in using <code>SIMILAR TO</code> <strong>ever</strong>.</p><div class="diff-skipped"><div></div></div><p><code>EXPLAIN ANALYZE</code> reveals it. Just try with any table yourself! </p><div class="diff-skipped"><div></div></div><hr><span class="diff-delete">&nbsp;</span><h3>Ultimate performance</h3><div class="diff-skipped"><div></div></div><p> The same is<span class="diff-delete"> also the case</span> for indexes on <code>varchar</code> types with <code>varchar_pattern_ops</code> or <code>char</code> with <code>bpchar_pattern_ops</code>.</p><div class="diff-skipped"><div></div></div><p> Of course, if you should happen to search for <strong>adjacent Initials</strong> <span class="diff-delete">(Martin's question in the comments)</span>, you can<span class="diff-delete"> further</span> simplify:</p><div class="diff-skipped"><div></div></div><p> The gain over plain use of <code>~</code> or <code>~~</code> is small. If performance isn't your paramount requirement, you<span class="diff-delete"> might</span> just stick with the standard operators - arriving at what you already have in the question.</p>
            </div>
            <div class="post-text">
                <p> Your query is pretty much the optimum. Syntax won't get much shorter, query won't get much faster:</p><div class="diff-skipped"><div></div></div><p> If you really want to<span class="diff-add"> </span><em><span class="diff-add">shorten the syntax</span></em>, use a regular expression with <em>branches</em>:</p><div class="diff-skipped"><div></div></div><p> Or slightly faster, with a <em>character class</em>:</p><div class="diff-skipped"><div></div></div><p> A quick test<span class="diff-add"> without index</span> yields faster results than for <code>SIMILAR TO</code> in<span class="diff-add"> either case</span> for me.<br><span class="diff-add">
With an appropriate B-Tree index in place,</span> <code>LIKE</code> <span class="diff-add">wins this race by orders of magnitude</span>.</p><p><span class="diff-add"> Read the basics</span> about<span class="diff-add"> </span><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html" rel="nofollow"><span class="diff-add">pattern matching in the manual</span></a>.</p><div class="diff-skipped"><div></div></div><p> If you are concerned with performance, create an index like this<span class="diff-add"> for bigger tables</span>:</p><pre><code>CREATE INDEX <span class="diff-add">spelers_name_special_idx </span>ON spelers (name text_pattern_ops);
</code></pre><p><span class="diff-add"> Makes</span> this kind of query<span class="diff-add"> faster</span> by orders of magnitude. Special considerations apply for locale-specific sort order. Read more about <a href="http://www.postgresql.org/docs/current/interactive/indexes-opclass.html" rel="nofollow">operator classes in the manual</a>. If you are using the standard "C" locale (most people don't), a plain index<span class="diff-add"> (with default operator class)</span> will do.</p><p><span class="diff-add"> Such</span> an index<span class="diff-add"> is only good</span> for<span class="diff-add"> left</span>-<span class="diff-add">anchored</span> patterns<span class="diff-add"> (matching from</span> the start<span class="diff-add"> of the string)</span>.</p><p><code>SIMILAR TO</code> or regular expressions with<span class="diff-add"> basic left-anchored expressions can use this index, too. But </span><em><span class="diff-add">not</span></em> <span class="diff-add">with</span> branches <code>(B|D)</code> or character classes <code>[BD]</code> (at least in my tests on PostgreSQL 9.0).</p><p><span class="diff-add"> Trigram matches or text search use special GIN or GiST indexes</span>.</p><h3><span class="diff-add">Overview of pattern matching operators</span></h3><ul><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html#FUNCTIONS-LIKE" rel="nofollow"><strong><code><span class="diff-add">LIKE</span></code></strong></a> <span class="diff-add">(</span><strong><code><span class="diff-add">~~</span></code></strong><span class="diff-add">) is simple and fast but limited in its capabilities. pg_trgm extends index support.</span></p></li><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html#FUNCTIONS-POSIX-REGEXP" rel="nofollow"><strong><code><span class="diff-add">~</span></code></strong></a> <span class="diff-add">is powerful but more complex and may be slow for anything more than very basic expressions.</span></p></li><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP" rel="nofollow"><strong><code><span class="diff-add">SIMILAR TO</span></code></strong></a> <span class="diff-add">is just </span><strong><em><span class="diff-add">pointless</span></em></strong><span class="diff-add">. A peculiar halfbreed of </span><code><span class="diff-add">LIKE</span></code> <span class="diff-add">and regular expressions. I never use it. Explanation below.</span></p></li><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/pgtrgm.html" rel="nofollow"><strong><span class="diff-add">'%'</span></strong></a> <span class="diff-add">is the "similarity" operator, provided by the additional module pg_trgm.</span></p></li><span class="diff-add">
</span><li><p><a href="http://www.postgresql.org/docs/current/interactive/functions-textsearch.html" rel="nofollow"><strong><code><span class="diff-add">@@</span></code></strong></a> <span class="diff-add">is the text search operator.</span></p></li><span class="diff-add">
</span></ul><h3>pg_trgm<span class="diff-add"> - trigram matching</span></h3><p> Beginning with <strong>PostgreSQL 9.1</strong> you can facilitate the extension <a href="http://www.postgresql.org/docs/current/interactive/pgtrgm.html" rel="nofollow"><code>pg_trgm</code></a> to provide index support for <em>any</em> <code><span class="diff-add">LIKE</span></code> /<span class="diff-add"> </span><code><span class="diff-add">ILIKE</span></code> <span class="diff-add">pattern</span> with a GIN or GiST index.</p><div class="diff-skipped"><div></div></div><p> pg_trgm also provides the "similarity" operator<span class="diff-add"> </span><code><span class="diff-add">'%'</span></code></p><h3><span class="diff-add">Text search</span></h3><p><span class="diff-add"> Is a special type</span> of pattern matching<span class="diff-add"> with separate infrastructure and index types. It uses dictionaries and stemming and is a great tool to find words in documents, especially for natural languages</span>.</p><p><span class="diff-add"> Consider the </span><a href="http://www.postgresql.org/docs/current/interactive/textsearch.html" rel="nofollow"><span class="diff-add">introduction in the manual</span></a> <span class="diff-add">and the </span><a href="http://www.postgresql.org/docs/current/interactive/functions-textsearch.html" rel="nofollow"><span class="diff-add">overview of operators and functions</span></a><span class="diff-add">.</span></p><p><span class="diff-add"> The additional module </span><a href="http://www.postgresql.org/docs/current/interactive/fuzzystrmatch.html" rel="nofollow"><strong><span class="diff-add">fuzzystrmatch</span></strong></a> <span class="diff-add">offers some more options, but performance is generally inferior to all of the above.</span></p><h3>Why are regular expressions (<code>~</code>)<span class="diff-add"> always</span> faster than <code>SIMILAR TO</code>?</h3><p> The answer is simple. <code>SIMILAR TO</code> expressions are rewritten into regular expressions internally. So, for every <code>SIMILAR TO</code> expression, there is<span class="diff-add"> </span><em><span class="diff-add">at least</span></em> <span class="diff-add">one</span> faster regular expression (that saves the overhead of rewriting the expression). There is no performance gain in using <code>SIMILAR TO</code> <strong>ever</strong>.</p><div class="diff-skipped"><div></div></div><p><code><span class="diff-add">SIMILAR TO</span></code> <span class="diff-add">is only supported in PostgreSQL because it ended up in early drafts of the SQL standard. They still haven't gotten rid of it. But there are plans to remove it and include regexp matches instead - or so I heard.</span></p><p><code>EXPLAIN ANALYZE</code> reveals it. Just try with any table yourself! </p><div class="diff-skipped"><div></div></div><h3>Ultimate performance<span class="diff-add"> for this particular case</span></h3><div class="diff-skipped"><div></div></div><p> The same is<span class="diff-add"> true</span> for indexes on <code>varchar</code> types with <code>varchar_pattern_ops</code> or <code>char</code> with <code>bpchar_pattern_ops</code>.</p><div class="diff-skipped"><div></div></div><p> Of course, if you should happen to search for <strong>adjacent Initials<span class="diff-add">&nbsp;</span></strong>, you can simplify<span class="diff-add"> further</span>:</p><div class="diff-skipped"><div></div></div><p> The gain over plain use of <code>~</code> or <code>~~</code> is small. If performance isn't your paramount requirement, you<span class="diff-add"> should</span> just stick with the standard operators - arriving at what you already have in the question.</p>
            </div>
        </div>

</div>
                        </div>
                    </td>
                </tr>
                <tr id="spacer-09d52f1d-9108-426d-af90-bdfe393d55dd">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('d704dfa4-53ff-4c0d-b809-dfccf5135917') ">
                        <span id="rev-arrow-d704dfa4-53ff-4c0d-b809-dfccf5135917" class="expander-arrow-show" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('d704dfa4-53ff-4c0d-b809-dfccf5135917') ">
                        <span title="revision 10">10</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">add info about pg_trgm; deleted 3 characters in body</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/d704dfa4-53ff-4c0d-b809-dfccf5135917/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/10" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-07-28 19:29:44Z" class="relativetime">Jul 28 '12 at 19:29</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="revd704dfa4-53ff-4c0d-b809-dfccf5135917" class="revcell5" style="display: block">


<div class="diff-choices">
    <a href="#" class="action inline-html-diff selected" title="Show the rendered output with additions and removals inline">inline</a>
    <a href="#" class="action sidebyside-html-diff" title="Show the rendered output diffs side-by-side">side-by-side</a>
    <a href="#" class="action sidebyside-markdown-diff" title="Show the markdown source diffs side-by-side">side-by-side markdown</a>
    <br class="cbt" />
</div>

<div class="diffs">

        <div class="post-text inline-diff condensed">
            <div class="diff-skipped"><div></div></div><h3><span class="diff-add">pg_trgm</span></h3><p><span class="diff-add"> Beginning with </span><strong><span class="diff-add">PostgreSQL 9.1</span></strong> <span class="diff-add">you can facilitate the extension </span><a href="http://www.postgresql.org/docs/current/interactive/pgtrgm.html" rel="nofollow"><code><span class="diff-add">pg_trgm</span></code></a> <span class="diff-add">to provide index support for </span><em><span class="diff-add">any</span></em> <span class="diff-add">LIKE / ILIKE pattern with a GIN or GiST index.</span></p><p><span class="diff-add"> Details, example and links in </span><a href="http://dba.stackexchange.com/a/10856/3684"><span class="diff-add">this related answer</span></a><span class="diff-add">.</span></p><p><span class="diff-add"> pg_trgm also provides the "similarity" operator '%', which may be interesting in the context of pattern matching.</span></p><hr><h3>Why are regular expressions (<code>~</code>) faster than <code>SIMILAR TO</code>?</h3><div class="diff-skipped"><div></div></div>
        </div>
        <div class="sidebyside-diff dno condensed">
            <div class="post-text">
                <div class="diff-skipped"><div></div></div><h3>Why are regular expressions (<code>~</code>) faster than <code>SIMILAR TO</code>?</h3><div class="diff-skipped"><div></div></div>
            </div>
            <div class="post-text">
                <div class="diff-skipped"><div></div></div><h3><span class="diff-add">pg_trgm</span></h3><p><span class="diff-add"> Beginning with </span><strong><span class="diff-add">PostgreSQL 9.1</span></strong> <span class="diff-add">you can facilitate the extension </span><a href="http://www.postgresql.org/docs/current/interactive/pgtrgm.html" rel="nofollow"><code><span class="diff-add">pg_trgm</span></code></a> <span class="diff-add">to provide index support for </span><em><span class="diff-add">any</span></em> <span class="diff-add">LIKE / ILIKE pattern with a GIN or GiST index.</span></p><p><span class="diff-add"> Details, example and links in </span><a href="http://dba.stackexchange.com/a/10856/3684"><span class="diff-add">this related answer</span></a><span class="diff-add">.</span></p><p><span class="diff-add"> pg_trgm also provides the "similarity" operator '%', which may be interesting in the context of pattern matching.</span></p><hr><h3>Why are regular expressions (<code>~</code>) faster than <code>SIMILAR TO</code>?</h3><div class="diff-skipped"><div></div></div>
            </div>
        </div>

</div>
                        </div>
                    </td>
                </tr>
                <tr id="spacer-d704dfa4-53ff-4c0d-b809-dfccf5135917">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('b6f4cd7d-5dde-4e2b-873b-39fa32630d32') ">
                        <span id="rev-arrow-b6f4cd7d-5dde-4e2b-873b-39fa32630d32" class="expander-arrow-show" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('b6f4cd7d-5dde-4e2b-873b-39fa32630d32') ">
                        <span title="revision 9">9</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">fix typos, cleanup</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/b6f4cd7d-5dde-4e2b-873b-39fa32630d32/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/9" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-03-10 00:27:39Z" class="relativetime">Mar 10 '12 at 0:27</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="revb6f4cd7d-5dde-4e2b-873b-39fa32630d32" class="revcell5" style="display: block">


<div class="diff-choices">
    <a href="#" class="action inline-html-diff selected" title="Show the rendered output with additions and removals inline">inline</a>
    <a href="#" class="action sidebyside-html-diff" title="Show the rendered output diffs side-by-side">side-by-side</a>
    <a href="#" class="action sidebyside-markdown-diff" title="Show the markdown source diffs side-by-side">side-by-side markdown</a>
    <br class="cbt" />
</div>

<div class="diffs">

        <div class="post-text inline-diff condensed">
            <p> Your query is pretty much the optimum. Syntax won't get much shorter, query won't get much faster<span class="diff-delete"> than that</span>. I only<span class="diff-delete"> reformatted</span><span class="diff-add"> reformat</span>:</p><div class="diff-skipped"><div></div></div><p><span class="diff-delete"> Of</span><span class="diff-add"> Or</span> slightly faster, yet, with a <em>character class</em>:</p><div class="diff-skipped"><div></div></div><p> A quick test yields faster results than for <code>SIMILAR TO</code> in both cases for me. Either is<span class="diff-add"> also</span> slightly faster than two <code>LIKE</code> conditions (One scan with an expensive condition is still slightly cheaper than two scans with a cheap condition.)</p><p><code>SIMILAR TO</code> is a peculiar halfbreed of <code>LIKE</code> and regular expressions that's only included in PostgreSQL because it is in<span class="diff-delete"> the</span><span class="diff-add"> an</span> SQL standard. I hardly ever use it myself. More about that further down.</p><div class="diff-skipped"><div></div></div><p> The answer is simple. <code>SIMILAR TO</code> expressions are rewritten into regular expressions internally. So, for every <code>SIMILAR TO</code> expression, there is at least one faster regular expression (that saves the overhead of rewriting the expression). There is no performance gain in using <code><span class="diff-delete">SIMLAR</span><span class="diff-add">SIMILAR</span> TO</code> <strong>ever</strong>.</p><div class="diff-skipped"><div></div></div><p> But <code>EXPLAIN ANALYZE</code> reveals more. Try, with the<span class="diff-delete"> described</span><span class="diff-add"> afore-mentioned</span> index in place:</p><div class="diff-skipped"><div></div></div><p> Internally, with an index that is not locale-aware (<code>text_pattern_ops</code> or using locale <code>C</code>)<span class="diff-delete"> an expression anchored at the start is</span><span class="diff-add"> simple left-anchored expressions are</span> rewritten with these text pattern operators: <code>~&gt;=~</code>, <code>~&lt;=~</code>, <code>~&gt;~</code>, <code>~&lt;~</code>. This is the case for <code>~</code>, <code>~~</code> or <code>SIMILAR TO</code> alike.</p><div class="diff-skipped"><div></div></div>
        </div>
        <div class="sidebyside-diff dno condensed">
            <div class="post-text">
                <p> Your query is pretty much the optimum. Syntax won't get much shorter, query won't get much faster<span class="diff-delete"> than that</span>. I only<span class="diff-delete"> reformatted</span>:</p><div class="diff-skipped"><div></div></div><p><span class="diff-delete"> Of</span> slightly faster, yet, with a <em>character class</em>:</p><div class="diff-skipped"><div></div></div><p> A quick test yields faster results than for <code>SIMILAR TO</code> in both cases for me. Either is slightly faster than two <code>LIKE</code> conditions (One scan with an expensive condition is still slightly cheaper than two scans with a cheap condition.)</p><p><code>SIMILAR TO</code> is a peculiar halfbreed of <code>LIKE</code> and regular expressions that's only included in PostgreSQL because it is in<span class="diff-delete"> the</span> SQL standard. I hardly ever use it myself. More about that further down.</p><div class="diff-skipped"><div></div></div><p> The answer is simple. <code>SIMILAR TO</code> expressions are rewritten into regular expressions internally. So, for every <code>SIMILAR TO</code> expression, there is at least one faster regular expression (that saves the overhead of rewriting the expression). There is no performance gain in using <code><span class="diff-delete">SIMLAR</span> TO</code> <strong>ever</strong>.</p><div class="diff-skipped"><div></div></div><p> But <code>EXPLAIN ANALYZE</code> reveals more. Try, with the<span class="diff-delete"> described</span> index in place:</p><div class="diff-skipped"><div></div></div><p> Internally, with an index that is not locale-aware (<code>text_pattern_ops</code> or using locale <code>C</code>)<span class="diff-delete"> an expression anchored at the start is</span> rewritten with these text pattern operators: <code>~&gt;=~</code>, <code>~&lt;=~</code>, <code>~&gt;~</code>, <code>~&lt;~</code>. This is the case for <code>~</code>, <code>~~</code> or <code>SIMILAR TO</code> alike.</p><div class="diff-skipped"><div></div></div>
            </div>
            <div class="post-text">
                <p> Your query is pretty much the optimum. Syntax won't get much shorter, query won't get much faster. I only<span class="diff-add"> reformat</span>:</p><div class="diff-skipped"><div></div></div><p><span class="diff-add"> Or</span> slightly faster, yet, with a <em>character class</em>:</p><div class="diff-skipped"><div></div></div><p> A quick test yields faster results than for <code>SIMILAR TO</code> in both cases for me. Either is<span class="diff-add"> also</span> slightly faster than two <code>LIKE</code> conditions (One scan with an expensive condition is still slightly cheaper than two scans with a cheap condition.)</p><p><code>SIMILAR TO</code> is a peculiar halfbreed of <code>LIKE</code> and regular expressions that's only included in PostgreSQL because it is in<span class="diff-add"> an</span> SQL standard. I hardly ever use it myself. More about that further down.</p><div class="diff-skipped"><div></div></div><p> The answer is simple. <code>SIMILAR TO</code> expressions are rewritten into regular expressions internally. So, for every <code>SIMILAR TO</code> expression, there is at least one faster regular expression (that saves the overhead of rewriting the expression). There is no performance gain in using <code><span class="diff-add">SIMILAR</span> TO</code> <strong>ever</strong>.</p><div class="diff-skipped"><div></div></div><p> But <code>EXPLAIN ANALYZE</code> reveals more. Try, with the<span class="diff-add"> afore-mentioned</span> index in place:</p><div class="diff-skipped"><div></div></div><p> Internally, with an index that is not locale-aware (<code>text_pattern_ops</code> or using locale <code>C</code>)<span class="diff-add"> simple left-anchored expressions are</span> rewritten with these text pattern operators: <code>~&gt;=~</code>, <code>~&lt;=~</code>, <code>~&gt;~</code>, <code>~&lt;~</code>. This is the case for <code>~</code>, <code>~~</code> or <code>SIMILAR TO</code> alike.</p><div class="diff-skipped"><div></div></div>
            </div>
        </div>

</div>
                        </div>
                    </td>
                </tr>
                <tr id="spacer-b6f4cd7d-5dde-4e2b-873b-39fa32630d32">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('5be16da2-21b3-4304-a30d-0ae581bc3021') ">
                        <span id="rev-arrow-5be16da2-21b3-4304-a30d-0ae581bc3021" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('5be16da2-21b3-4304-a30d-0ae581bc3021') ">
                        <span title="revision 8">8</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">complete rewrite with more information</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/5be16da2-21b3-4304-a30d-0ae581bc3021/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/8" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-01-16 06:41:56Z" class="relativetime">Jan 16 '12 at 6:41</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="rev5be16da2-21b3-4304-a30d-0ae581bc3021" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-5be16da2-21b3-4304-a30d-0ae581bc3021">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('fd438c9f-45ff-4786-874f-069d70267596') ">
                        <span id="rev-arrow-fd438c9f-45ff-4786-874f-069d70267596" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('fd438c9f-45ff-4786-874f-069d70267596') ">
                        <span title="revision 7">7</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">cleanup</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/fd438c9f-45ff-4786-874f-069d70267596/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/7" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-01-15 20:02:16Z" class="relativetime">Jan 15 '12 at 20:02</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="revfd438c9f-45ff-4786-874f-069d70267596" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-fd438c9f-45ff-4786-874f-069d70267596">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('abb4f7e9-e51f-4fd1-b77b-00d296090981') ">
                        <span id="rev-arrow-abb4f7e9-e51f-4fd1-b77b-00d296090981" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('abb4f7e9-e51f-4fd1-b77b-00d296090981') ">
                        <span title="revision 6">6</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">more info</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/abb4f7e9-e51f-4fd1-b77b-00d296090981/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/6" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-01-15 12:31:49Z" class="relativetime">Jan 15 '12 at 12:31</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="revabb4f7e9-e51f-4fd1-b77b-00d296090981" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-abb4f7e9-e51f-4fd1-b77b-00d296090981">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('bf0d490a-3625-407d-8501-f1ef1561f2b5') ">
                        <span id="rev-arrow-bf0d490a-3625-407d-8501-f1ef1561f2b5" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('bf0d490a-3625-407d-8501-f1ef1561f2b5') ">
                        <span title="revision 5">5</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">more info</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/bf0d490a-3625-407d-8501-f1ef1561f2b5/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/5" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-01-15 12:26:48Z" class="relativetime">Jan 15 '12 at 12:26</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="revbf0d490a-3625-407d-8501-f1ef1561f2b5" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-bf0d490a-3625-407d-8501-f1ef1561f2b5">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('e7b154b8-8296-4a2e-9b41-1b65b125f45b') ">
                        <span id="rev-arrow-e7b154b8-8296-4a2e-9b41-1b65b125f45b" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('e7b154b8-8296-4a2e-9b41-1b65b125f45b') ">
                        <span title="revision 4">4</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">add regexp</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/e7b154b8-8296-4a2e-9b41-1b65b125f45b/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/4" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-01-15 12:08:59Z" class="relativetime">Jan 15 '12 at 12:08</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="reve7b154b8-8296-4a2e-9b41-1b65b125f45b" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-e7b154b8-8296-4a2e-9b41-1b65b125f45b">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('2d0cb46e-0b59-431b-89e5-ee6930bbfee3') ">
                        <span id="rev-arrow-2d0cb46e-0b59-431b-89e5-ee6930bbfee3" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('2d0cb46e-0b59-431b-89e5-ee6930bbfee3') ">
                        <span title="revision 3">3</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">more info</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/2d0cb46e-0b59-431b-89e5-ee6930bbfee3/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/3" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-01-15 11:56:19Z" class="relativetime">Jan 15 '12 at 11:56</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="rev2d0cb46e-0b59-431b-89e5-ee6930bbfee3" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-2d0cb46e-0b59-431b-89e5-ee6930bbfee3">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('231c274f-9c5e-403e-86dd-9548c58ed507') ">
                        <span id="rev-arrow-231c274f-9c5e-403e-86dd-9548c58ed507" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('231c274f-9c5e-403e-86dd-9548c58ed507') ">
                        <span title="revision 2">2</span>
                    </td>
                    <td class="revcell3 vm">
                        <span class="revision-comment">more info</span>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/231c274f-9c5e-403e-86dd-9548c58ed507/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/2" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        edited <span title="2012-01-15 11:50:36Z" class="relativetime">Jan 15 '12 at 11:50</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="rev231c274f-9c5e-403e-86dd-9548c58ed507" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-231c274f-9c5e-403e-86dd-9548c58ed507">
                    <td colspan="4" height="10px"></td>
                </tr>
                <tr class="owner-revision">
                    <td class="revcell1 vm" onclick="StackExchange.revisions.toggle('5d9f458e-cbad-4ce0-8eee-099ad1038683') ">
                        <span id="rev-arrow-5d9f458e-cbad-4ce0-8eee-099ad1038683" class="expander-arrow-hide" title="show/hide this revision&#39;s text"></span>
                    </td>
                    <td class="revcell2 vm" onclick="StackExchange.revisions.toggle('5d9f458e-cbad-4ce0-8eee-099ad1038683') ">
                        <span title="revision 1">1</span>
                    </td>
                    <td class="revcell3 vm">
                        <br>
                        <div class="post-menu" style="padding-top: 10px;">
                            <a href="/revisions/5d9f458e-cbad-4ce0-8eee-099ad1038683/view-source" title="view raw text of this revision" target="_blank">source</a><span class="lsep">|</span><a class="single-revision" href="/revisions/10696/1" title="link to this formatted revision">link</a>
                        </div>
                    </td>
                    <td class="revcell4">

<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2012-01-15 11:38:51Z" class="relativetime">Jan 15 '12 at 11:38</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3684/erwin-brandstetter"><div><img src="https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=32&d=identicon&r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3684/erwin-brandstetter">Erwin Brandstetter</a><br>
        <span class="reputation-score" title="reputation score 12030" dir="ltr">12k</span><span title="20 silver badges"><span class="badge2"></span><span class="badgecount">20</span></span><span title="48 bronze badges"><span class="badge3"></span><span class="badgecount">48</span></span>
    </div>
</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <div id="rev5d9f458e-cbad-4ce0-8eee-099ad1038683" class="revcell5" style="display: none">
                        </div>
                    </td>
                </tr>
                <tr id="spacer-5d9f458e-cbad-4ce0-8eee-099ad1038683">
                    <td colspan="4" height="10px"></td>
                </tr>

        </table>

            <div class="pager fl">
        





    </div>


    </div>
</div>

<script type="text/javascript">
    StackExchange.using("revisions", function () { StackExchange.revisions.init(10696) });
</script>

<div style="display:none" id="prettify-lang">lang-sql</div>
        </div>
    </div>
    <div id="footer" class="categories">
        <div class="footerwrap">
            <div id="footer-menu">
                <div class="top-footer-links">
                        <a href="/about">about</a>
                    <a href="/help">help</a>
                        <a href="/help/badges">badges</a>
                    <a href="http://dba.blogoverflow.com?blb=1">blog</a>
                        <a href="http://chat.stackexchange.com">chat</a>
                    <a href="http://data.stackexchange.com">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackexchange.com/about/hiring">jobs</a>
                    <a href="http://stackexchange.com/about/contact">advertising info</a>

                    <a onclick='StackExchange.switchMobile("on", "/posts/10696/revisions")'>mobile</a>
                    <b><a href="/contact">contact us</a></b>
                        <b><a href="http://meta.dba.stackexchange.com">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tr>
            <th colspan=3>
                Technology
            </th>
            <th >
                Life / Arts
            </th>
            <th >
                Culture / Recreation
            </th>
            <th >
                Science
            </th>
            <th >
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="http://stackoverflow.com" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="http://serverfault.com" title="professional system and network administrators">Server Fault</a></li>
                        <li><a href="http://superuser.com" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="http://webapps.stackexchange.com" title="power users of web applications">Web Applications</a></li>
                        <li><a href="http://askubuntu.com" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="http://webmasters.stackexchange.com" title="pro webmasters">Webmasters</a></li>
                        <li><a href="http://gamedev.stackexchange.com" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="http://tex.stackexchange.com" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://programmers.stackexchange.com" title="professional programmers interested in conceptual questions about software development">Programmers</a></li>
                        <li><a href="http://unix.stackexchange.com" title="users of Linux, FreeBSD and other Un*x-like operating systems.">Unix &amp; Linux</a></li>
                        <li><a href="http://apple.stackexchange.com" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="http://wordpress.stackexchange.com" title="WordPress developers and administrators">WordPress Answers</a></li>
                        <li><a href="http://gis.stackexchange.com" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="http://electronics.stackexchange.com" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="http://android.stackexchange.com" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="http://security.stackexchange.com" title="Information security professionals">Information Security</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://dba.stackexchange.com" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="http://drupal.stackexchange.com" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="http://sharepoint.stackexchange.com" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="http://ux.stackexchange.com" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="http://mathematica.stackexchange.com" title="users of Mathematica">Mathematica</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (14)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://photo.stackexchange.com" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="http://scifi.stackexchange.com" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="http://cooking.stackexchange.com" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="http://diy.stackexchange.com" title="contractors and serious DIYers">Home Improvement</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (13)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://english.stackexchange.com" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="http://skeptics.stackexchange.com" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="http://judaism.stackexchange.com" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="http://travel.stackexchange.com" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="http://christianity.stackexchange.com" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="http://gaming.stackexchange.com" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                        <li><a href="http://bicycles.stackexchange.com" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="http://rpg.stackexchange.com" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (21)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://math.stackexchange.com" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="http://stats.stackexchange.com" title="statisticians, data analysts, data miners and data visualization experts">Cross Validated (stats)</a></li>
                        <li><a href="http://cstheory.stackexchange.com" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="http://physics.stackexchange.com" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="http://mathoverflow.net" title="professional mathematicians">MathOverflow</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (7)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://stackapps.com" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="http://meta.stackoverflow.com" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Overflow</a></li>
                        <li><a href="http://area51.stackexchange.com" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="http://careers.stackoverflow.com">Stack Overflow Careers</a></li>
                    
                </ol>
            </td>
    </tr>
</table>
                </div>
            </div>

            <div id="copyright">
                site design / logo &#169; 2013 stack exchange inc; user contributions licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc-wiki</a> 
 with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="footer-flair">
                <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="cc-wiki-link"></a>
            </div>
            <div id="svnrev">
                rev 2013.11.21.1172
            </div>
            
        </div>
    </div>
    <noscript>
        <div id="noscript-warning">Database Administrators Stack Exchange works best with JavaScript enabled<img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"></div>
    </noscript>

    <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-5620270-24']);
        _gaq.push(['_setDomainName','.stackexchange.com']);
_gaq.push(['_trackPageview']);
    var _qevents = _qevents || [];
    var _comscore = _comscore || [];
    (function () {
        var ssl='https:'==document.location.protocol,
            s=document.getElementsByTagName('script')[0],
            ga=document.createElement('script');
        ga.type='text/javascript';
        ga.async=true;
        ga.src=(ssl?'https://ssl':'http://www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(ga,s);
        var sc=document.createElement('script');
        sc.type='text/javascript';
        sc.async=true;
        sc.src=(ssl?'https://secure':'http://edge')+'.quantserve.com/quant.js';
        s.parentNode.insertBefore(sc, s);
        
        var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true;
        s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";
        el.parentNode.insertBefore(s, el);
        
    })();
    _comscore.push({ c1: "2", c2: "17440561" });
    _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
    </script>        
    
</body>
</html>
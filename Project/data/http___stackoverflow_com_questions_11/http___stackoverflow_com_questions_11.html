<!DOCTYPE html>
<html>
<head>
    
    <title>c# - How do I calculate relative time? - Stack Overflow</title>
    <link rel="shortcut icon" href="//cdn.sstatic.net/stackoverflow/img/favicon.ico">
    <link rel="apple-touch-icon image_src" href="//cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png">
    <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="stackoverflow.com"/>
    <meta name="og:type" content="website" />
    <meta name="og:image" content="http://cdn.sstatic.net/stackoverflow/img/apple-touch-icon@2.png?v=fde65a5a78c6"/>
    <meta name="og:title" content="How do I calculate relative time?" />
    <meta name="og:description" content="Given a specific DateTime value, how do I display relative time, like:


2 hours ago
3 days ago
a month ago


Et cetera?
" />
    <meta name="og:url" content="http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time"/>
    <link rel="canonical" href="http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time" />

    
    
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="//cdn.sstatic.net/Js/stub.en.js?v=e3d47b73fa12" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.sstatic.net/stackoverflow/all.css?v=1aa4c0df1b62">
    
    <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;How do I calculate relative time?&#39;" href="/feeds/question/11">
    <script type="text/javascript">
        
        StackExchange.ready(function () {
            StackExchange.using("postValidation", function () {
                StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
            });

            
            StackExchange.question.init({showAnswerHelp:true,totalCommentCount:9,shownCommentCount:5,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:11});

            styleCode();

                StackExchange.realtime.subscribeToQuestion('1', '11');
            
                    });
    </script>


    <script type="text/javascript">
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","serverTime":1384533895,"styleCode":true,"enableUserHovercards":true,"site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdchgIAAAAAAJwGpIzRQSOFaO0pU6s44Xt8aTwc","enableSocialMediaInSharePopup":true},"user":{"fkey":"ccf6c05702b5b74dbae85362e422ac2d","isAnonymous":true}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"e0bbd4760e83","js/moderator.en.js":"1a411fd265fe","js/full-anon.en.js":"978b6ac79763","js/full.en.js":"9c04c877896f","js/wmd.en.js":"bd9234d44a40","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"d1d834ef85d2","js/help.en.js":"d3cc74d8a93a","js/tageditor.en.js":"6d51a5f8d7f3","js/tageditornew.en.js":"111b781cf314","js/inline-tag-editing.en.js":"f951bd09dc69","js/revisions.en.js":"33fd38144303","js/review.en.js":"f45b4ec094ea","js/tagsuggestions.en.js":"e4e7b952fcc7","js/post-validation.en.js":"c275fe37d674","js/explore-qlist.en.js":"73825bd006fc","js/events.en.js":"53bc48767091"});
    </script>
    <script type="text/javascript">
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    
        <script type="text/javascript">
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
</head>
<body class="question-page">
    <noscript><div id="noscript-padding"></div></noscript>
    <div id="notify-container"></div>
    <div id="overlay-header"></div>
    <div id="custom-header"></div>
    <div class="container">
        <div id="header" class=headeranon>
            <div id="portalLink">
                <a class="genu" href="http://stackexchange.com" onclick="StackExchange.ready(function(){genuwine.click();});return false;">Stack Exchange</a>
            </div>
            <div id="topbar">
                <div id="hlinks">
                    
<span id="hlinks-user"></span>
<span id="hlinks-nav">                        <a href="/users/login?returnurl=%2fquestions%2f11%2fhow-do-i-calculate-relative-time">sign up</a>

 <span class="lsep">|</span>
                    <a href="/users/login?returnurl=%2fquestions%2f11%2fhow-do-i-calculate-relative-time">log in</a>

 <span class="lsep">|</span>
                    <a href="http://careers.stackoverflow.com">careers 2.0</a>

 <span class="lsep">|</span>
</span>
<span id="hlinks-custom"></span>
                </div>
                <div id="hsearch">
                    <form id="search" action="/search" method="get" autocomplete="off">
                        <div>
                            <input autocomplete="off" name="q" class="textbox" placeholder="search" tabindex="1" type="text" maxlength="240" size="28" value="">
                        </div>
                    </form>
                </div>
            </div>
            <br class="cbt">
            <div id="hlogo">
                <a href="/">
                    Stack Overflow
                </a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs mainnavsanon">
                    <ul>
                            <li class="youarehere"><a id="nav-questions" href="/questions">Questions</a></li>
                            <li><a id="nav-tags" href="/tags">Tags</a></li>
                            <li><a id="nav-tour" href="/about">Tour</a></li>
                            <li><a id="nav-users" href="/users">Users</a></li>
                    </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion"  href="/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        



        <div id="content">
            

<div itemscope itemtype="http://schema.org/Article">
	<link itemprop="image" href="//cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png">
			<!--googleoff: all-->
<div id="herobox-mini">
    <div id="hero-content">
        <span id="controls">
            <a href="/about" id="tell-me-more" class="button">Tell me more</a>
            <span id="close"><a title="click to dismiss">&times;</a></span>
        </span>
        <div id="blurb">
            Stack Overflow is a question and answer site for professional and enthusiast programmers. It&#39;s 100% free, no registration required.
        </div>        
    </div>
    <script>
        $('#tell-me-more').click(function () {
            var clickSource = $("body").attr("class") + '-mini';
            if ($("body").hasClass("questions-page")) {
                clickSource = 'questionpagemini';
            }
            if ($("body").hasClass("home-page")) {
                clickSource = 'homepagemini';
            }

            StackExchange.using("gps", function () {
                StackExchange.gps.track("aboutpage.click", { aboutclick_location: clickSource } , true);
            });
        });
        $('#herobox-mini #close').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: "close" }, true);
            });
            $.cookie("hero", "none", { path: "/" });
            var $hero = $("#herobox-mini");
            $hero.slideUp('fast', function () { $hero.remove(); });
            return false;
        });
    </script>
</div>
			<!--googleon: all-->
			<div id="question-header">
			<h1 itemprop="name"><a href="/questions/11/how-do-i-calculate-relative-time" class="question-hyperlink">How do I calculate relative time?</a></h1>
		</div>
			<div id="mainbar">

			

<div class="question" data-questionid="11"  id="question">
    
                <script type="text/javascript">
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,8277,"adzerk2035432019",4).setZone(43) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk2035432019">
            </div>  


    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="11">
    <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
    <span class="vote-count-post ">690</span>
    <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>
    
    <a class="star-off" href="#" title="This is a favorite question (click again to undo)">favorite</a>
    <div class="favoritecount"><b>401</b></div>   

</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="description">

        <p>Given a specific <code>DateTime</code> value, how do I display relative time, like:</p>

<ul>
<li>2 hours ago</li>
<li>3 days ago</li>
<li>a month ago</li>
</ul>

<p>Et cetera?</p>

    </div>
    <div class="post-taglist">
        <a href="/questions/tagged/c%23" class="post-tag" title="show questions tagged &#39;c#&#39;" rel="tag">c#</a> <a href="/questions/tagged/datediff" class="post-tag" title="show questions tagged &#39;datediff&#39;" rel="tag">datediff</a> 
    </div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/q/11" title="short permalink to this question" class="short-link" id="link-post-11">share</a><span class="lsep">|</span><a href="/posts/11/edit" class="suggest-edit-post" title="">improve this question</a></div>        
    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/11/revisions" title="show all edits to this post">edited <span title="2013-06-24 23:54:05Z" class="relativetime">Jun 24 at 23:54</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
    <td class="post-signature">
        
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-11" href="/posts/11/revisions" title="show revision history for this post">
        15 revs, 12 users 28%<br><a href="/users/1">Jeff Atwood</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</div>
</td>
        </tr>
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-11" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="4" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-501111" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="supernova">47</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">What if you want to calculate a relative time from now to Future?</span>
	&ndash;&nbsp;
		<a href="/users/76832/jhonny-d-cano-leftware" 
		   title="8139 reputation" 
		   class="comment-user">Jhonny D. Cano -Leftware-</a>
	<span class="comment-date" dir="ltr"><span title="2009-03-26 20:42:53Z" class="relativetime-clean">Mar 26 '09 at 20:42</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-3247593" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="cool">1</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">I wish you could drop this approach at StackOverflow.  I often see several similar answers that were posted &quot;1 hour ago&quot;, and I just want to upvote the first one (the rest are duplicates that should be removed).</span>
	&ndash;&nbsp;
		<a href="/users/267938/jorn-e-angeltveit" 
		   title="1941 reputation" 
		   class="comment-user">J&#248;rn E. Angeltveit</a>
	<span class="comment-date" dir="ltr"><span title="2010-07-01 13:54:48Z" class="relativetime-clean">Jul 1 '10 at 13:54</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-3247716" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">9</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">@J&#248;rn if you hover your mouse over the &quot;1 hour ago,&quot; the title-text will give you the exact time.  I think this is a great combination of ease-of-use (you see quickly how old things are) and advanced features (you can see the exact date easily as well)</span>
	&ndash;&nbsp;
		<a href="/users/134502/nickaldwin" 
		   title="3772 reputation" 
		   class="comment-user">NickAldwin</a>
	<span class="comment-date" dir="ltr"><span title="2010-07-01 14:06:24Z" class="relativetime-clean">Jul 1 '10 at 14:06</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-4227337" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="hot">16</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Common, yes.  Keep in mind that if it is really useful information then users of touch screen devices (smartphones, tablets) can&#39;t get at it because they can&#39;t hover a pointer.</span>
	&ndash;&nbsp;
		<a href="/users/24874/drew-noakes" 
		   title="53167 reputation" 
		   class="comment-user">Drew Noakes</a>
	<span class="comment-date" dir="ltr"><span title="2010-10-18 00:30:11Z" class="relativetime-clean">Oct 18 '10 at 0:30</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-6719413" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">5</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">@configurator, @NickAldwin: I&#39;ve seen this on a several sites now and has accepted that as an way to get additional information.  But now we have a new problem. How can I hover on my iPad... ;-)</span>
	&ndash;&nbsp;
		<a href="/users/267938/jorn-e-angeltveit" 
		   title="1941 reputation" 
		   class="comment-user">J&#248;rn E. Angeltveit</a>
	<span class="comment-date" dir="ltr"><span title="2011-05-01 15:09:30Z" class="relativetime-clean">May 1 '11 at 15:09</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-11" 
			   class="comments-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments.">show <b>4</b> more comments</a>
    </td>
</tr>            </table>    
</div>


			<div id="answers">

				<a name="tab-top"></a>
				<div id="answers-header">
					<div class="subheader answers-subheader">
						<h2>
								29 Answers
						</h2>
						<div>
							<div id="tabs">
        <a href="/questions/11/how-do-i-calculate-relative-time?answertab=active#tab-top" title="Answers with the latest activity first">active</a>
        <a href="/questions/11/how-do-i-calculate-relative-time?answertab=oldest#tab-top" title="Answers in the order they were provided">oldest</a>
        <a class="youarehere" href="/questions/11/how-do-i-calculate-relative-time?answertab=votes#tab-top" title="Answers with the highest score first">votes</a>
</div>
						</div>
					</div>    
				</div>    




  
<a name="1248"></a>
<div id="answer-1248" class="answer accepted-answer" data-answerid="1248" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1248">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">480</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


        <span class="vote-accepted-on load-accepted-answer-date" title="loading when this answer was accepted...">accepted</span>
</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>Jeff, <a href="http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time/12#12">your code</a> is nice but could be clearer with constants (as suggested in Code Complete).</p>

<pre><code>const int SECOND = 1;
const int MINUTE = 60 * SECOND;
const int HOUR = 60 * MINUTE;
const int DAY = 24 * HOUR;
const int MONTH = 30 * DAY;

if (delta &lt; 0)
{
  return "not yet";
}
if (delta &lt; 1 * MINUTE)
{
  return ts.Seconds == 1 ? "one second ago" : ts.Seconds + " seconds ago";
}
if (delta &lt; 2 * MINUTE)
{
  return "a minute ago";
}
if (delta &lt; 45 * MINUTE)
{
  return ts.Minutes + " minutes ago";
}
if (delta &lt; 90 * MINUTE)
{
  return "an hour ago";
}
if (delta &lt; 24 * HOUR)
{
  return ts.Hours + " hours ago";
}
if (delta &lt; 48 * HOUR)
{
  return "yesterday";
}
if (delta &lt; 30 * DAY)
{
  return ts.Days + " days ago";
}
if (delta &lt; 12 * MONTH)
{
  int months = Convert.ToInt32(Math.Floor((double)ts.Days / 30));
  return months &lt;= 1 ? "one month ago" : months + " months ago";
}
else
{
  int years = Convert.ToInt32(Math.Floor((double)ts.Days / 365));
  return years &lt;= 1 ? "one year ago" : years + " years ago";
}
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/1248" title="short permalink to this answer" class="short-link" id="link-post-1248">share</a><span class="lsep">|</span><a href="/posts/1248/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/1248/revisions" title="show all edits to this post">edited <span title="2011-09-04 21:34:12Z" class="relativetime">Sep 4 '11 at 21:34</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1248" href="/posts/1248/revisions" title="show revision history for this post">
        4 revs, 4 users 93%<br><a href="/users/268">Vincent Robert</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1248" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="7" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-3662891" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="supernova">108</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">I hate such constants with a passion. Does this look wrong to anyone? <code>Thread.Sleep(1 * MINUTE)</code>? Because it&#39;s wrong by a factor of 1000.</span>
	&ndash;&nbsp;
		<a href="/users/33080/romkyns" 
		   title="14646 reputation" 
		   class="comment-user">romkyns</a>
	<span class="comment-date" dir="ltr"><span title="2010-08-17 17:06:20Z" class="relativetime-clean">Aug 17 '10 at 17:06</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-4389559" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">6</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Beware of editing the times here since ts.Minutes, ts.Hours, etc... gives the component of the timespan, not the total minutes or hours. For example if you wanted to describe everything less than 48 hours in terms of hours, you&#39;d need to change ts.Hours to Convert.ToInt32(ts.TotalHours) to get output of &quot;38 hours ago&quot;. I wanted to do this since my application predicts a future time like &quot;38 hours left&quot;. Tomorrow doesn&#39;t sound good here IMO.</span>
	&ndash;&nbsp;
		<a href="/users/134077/crizcraig" 
		   title="1245 reputation" 
		   class="comment-user">crizCraig</a>
	<span class="comment-date" dir="ltr"><span title="2010-11-02 21:37:44Z" class="relativetime-clean">Nov 2 '10 at 21:37</span></span>
		<span class="edited-yes" title="this comment was edited 3 times"></span>
				</div>

        </td>
    </tr>
    <tr id="comment-7491667" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">6</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy"><code>const int SECOND = 1;</code> So weird a second is one second.</span>
	&ndash;&nbsp;
		<a href="/users/407054/seriousdev" 
		   title="2414 reputation" 
		   class="comment-user">seriousdev</a>
	<span class="comment-date" dir="ltr"><span title="2011-06-17 22:46:18Z" class="relativetime-clean">Jun 17 '11 at 22:46</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-13925661" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="hot">19</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">This type of code is nearly impossible to localize. If your app only needs to remain in English, then fine. But if you make the jump to other languages, you will hate yourself for doing logic like this. Just so y&#39;all know...</span>
	&ndash;&nbsp;
		<a href="/users/14302/nik-reiman" 
		   title="13681 reputation" 
		   class="comment-user">Nik Reiman</a>
	<span class="comment-date" dir="ltr"><span title="2012-05-23 14:31:17Z" class="relativetime-clean">May 23 '12 at 14:31</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-16309427" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">12</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">I think if the constants were renamed to accurately describe the value that is in them, it&#39;d be easier to understand. So SecondsPerMinute = 60; MinutesPerHour = 60; SecondsPerHour = MinutesPerHour * SecondsPerHour;  etc.  Just calling it MINUTE=60 doesn&#39;t allow the reader to determine what the value is.</span>
	&ndash;&nbsp;
		<a href="/users/698/slolife" 
		   title="5714 reputation" 
		   class="comment-user">slolife</a>
	<span class="comment-date" dir="ltr"><span title="2012-08-29 16:21:40Z" class="relativetime-clean">Aug 29 '12 at 16:21</span></span>
		<span class="edited-yes" title="this comment was edited 1 time"></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1248" 
			   class="comments-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">show <b>7</b> more comments</a>
    </td>
</tr>
    </table>
</div>
            <script type="text/javascript">
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,8277,"adzerk1765917716",4).setZone(44) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk1765917716">
            </div>  



  
<a name="111303"></a>
<div id="answer-111303" class="answer" data-answerid="111303" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="111303">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">258</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><h2><a href="http://timeago.yarp.com/">jquery.timeago plugin</a></h2>

<p>Jeff, because Stack Overflow uses jQuery extensively, I recommend the <a href="http://timeago.yarp.com/">jquery.timeago plugin</a>.  </p>

<p>Benefits:</p>

<ul>
<li>Avoid timestamps dated "1 minute ago" even though the page was opened 10 minutes ago; timeago refreshes automatically.</li>
<li>You can take full advantage of page and/or fragment caching in your web applications, because the timestamps aren't calculated on the server.</li>
<li>You get to use microformats like the cool kids.</li>
</ul>

<p>Just attach it to your timestamps on DOM ready:</p>

<pre class="lang-js prettyprint-override"><code>jQuery(document).ready(function() {
    jQuery('abbr.timeago').timeago();
});
</code></pre>

<p>This will turn all <code>abbr</code> elements with a class of timeago and an <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> timestamp in the title:</p>

<pre class="lang-html prettyprint-override"><code>&lt;abbr class="timeago" title="2008-07-17T09:24:17Z"&gt;July 17, 2008&lt;/abbr&gt;
</code></pre>

<p>into something like this:</p>

<pre class="lang-html prettyprint-override"><code>&lt;abbr class="timeago" title="July 17, 2008"&gt;4 months ago&lt;/abbr&gt;
</code></pre>

<p>which yields: 4 months ago. As time passes, the timestamps will automatically update. </p>

<p><em>Disclaimer: I wrote this plugin, so I'm biased.</em></p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/111303" title="short permalink to this answer" class="short-link" id="link-post-111303">share</a><span class="lsep">|</span><a href="/posts/111303/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/111303/revisions" title="show all edits to this post">edited <span title="2012-02-06 02:03:39Z" class="relativetime">Feb 6 '12 at 2:03</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-111303" href="/posts/111303/revisions" title="show revision history for this post">
        8 revs, 3 users 79%<br><a href="/users/8985">Ryan McGeary</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-111303" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="9" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-489638" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="hot">25</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Seb, If you have Javascript disabled, then the string you originally put between the abbr tags is displayed.  Typically, this is just a date or time in any format you wish. Timeago degrades gracefully.  It doesn&#39;t get much simpler.</span>
	&ndash;&nbsp;
		<a href="/users/8985/ryan-mcgeary" 
		   title="59505 reputation" 
		   class="comment-user">Ryan McGeary</a>
	<span class="comment-date" dir="ltr"><span title="2009-03-24 04:40:18Z" class="relativetime-clean">Mar 24 '09 at 4:40</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-1648222" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">5</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">+1 Wow, this is exactly what I need for a site I&#39;m working on. Thanks.</span>
	&ndash;&nbsp;
		<a href="/users/6844/mark-embling" 
		   title="6663 reputation" 
		   class="comment-user">Mark Embling</a>
	<span class="comment-date" dir="ltr"><span title="2009-11-19 15:43:26Z" class="relativetime-clean">Nov 19 '09 at 15:43</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-1876289" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="hot">16</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Ryan, I suggested that SO use timeago a while ago. Jeff&#39;s response made me cry, i suggest you sit down: <a href="http://stackoverflow.uservoice.com/pages/1722-general/suggestions/96770-auto-update-the-fuzzy-timestamps-with-jquery-timeago-" rel="nofollow">stackoverflow.uservoice.com/pages/1722-general/suggestions/&hellip;</a></span>
	&ndash;&nbsp;
		<a href="/users/21433/rob-fonseca-ensor" 
		   title="10959 reputation" 
		   class="comment-user">Rob Fonseca-Ensor</a>
	<span class="comment-date" dir="ltr"><span title="2009-12-26 07:26:41Z" class="relativetime-clean">Dec 26 '09 at 7:26</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-1876935" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="cool">4</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Heh, Thanks Rob.  That&#39;s okay. It&#39;s barely noticeable, especially when only one number changes during the transition, though SO pages have a lot of timestamps.  I would have thought he would have at least appreciated the benefits of page caching though, even if he chooses to avoid auto-updates.  I&#39;m sure Jeff could have provided feedback to improve the plugin too.  I take solace knowing sites like <a href="http://arstechnica.com/" rel="nofollow">arstechnica.com</a> use it.</span>
	&ndash;&nbsp;
		<a href="/users/8985/ryan-mcgeary" 
		   title="59505 reputation" 
		   class="comment-user">Ryan McGeary</a>
	<span class="comment-date" dir="ltr"><span title="2009-12-26 13:56:41Z" class="relativetime-clean">Dec 26 '09 at 13:56</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-2690374" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">13</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">@Rob Fonseca-Ensor - now it&#39;s making me cry too. How is an update once per minute, to show accurate information, <i>in any way</i> related to text blinking once a second?</span>
	&ndash;&nbsp;
		<a href="/users/27423/daniel-earwicker" 
		   title="58124 reputation" 
		   class="comment-user">Daniel Earwicker</a>
	<span class="comment-date" dir="ltr"><span title="2010-04-20 00:23:49Z" class="relativetime-clean">Apr 20 '10 at 0:23</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-111303" 
			   class="comments-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">show <b>9</b> more comments</a>
    </td>
</tr>
    </table>
</div>

  
<a name="12"></a>
<div id="answer-12" class="answer" data-answerid="12" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="12">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">198</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>Well, here's how we do it on Stack Overflow.</p>

<pre><code>var ts = new TimeSpan(DateTime.UtcNow.Ticks - dt.Ticks);
double delta = Math.Abs(ts.TotalSeconds);

if (delta &lt; 60)
{
  return ts.Seconds == 1 ? "one second ago" : ts.Seconds + " seconds ago";
}
if (delta &lt; 120)
{
  return "a minute ago";
}
if (delta &lt; 2700) // 45 * 60
{
  return ts.Minutes + " minutes ago";
}
if (delta &lt; 5400) // 90 * 60
{
  return "an hour ago";
}
if (delta &lt; 86400) // 24 * 60 * 60
{
  return ts.Hours + " hours ago";
}
if (delta &lt; 172800) // 48 * 60 * 60
{
  return "yesterday";
}
if (delta &lt; 2592000) // 30 * 24 * 60 * 60
{
  return ts.Days + " days ago";
}
if (delta &lt; 31104000) // 12 * 30 * 24 * 60 * 60
{
  int months = Convert.ToInt32(Math.Floor((double)ts.Days / 30));
  return months &lt;= 1 ? "one month ago" : months + " months ago";
}
int years = Convert.ToInt32(Math.Floor((double)ts.Days / 365));
return years &lt;= 1 ? "one year ago" : years + " years ago";
</code></pre>

<p>Suggestions? Comments? Ways to improve this algorithm?</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/12" title="short permalink to this answer" class="short-link" id="link-post-12">share</a><span class="lsep">|</span><a href="/posts/12/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/12/revisions" title="show all edits to this post">edited <span title="2013-09-12 16:11:47Z" class="relativetime">Sep 12 at 16:11</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-12" href="/posts/12/revisions" title="show revision history for this post">
        10 revs, 4 users 59%<br><a href="/users/1">Jeff Atwood</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-12" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="6" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-316584" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="supernova">70</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">&quot;&lt; 48*60*60s&quot; is a rather unconventional definition for &quot;yesterday&quot;.  If it&#39;s 9am on Wednesday, would you really think of 9:01am on Monday as &quot;yesterday&quot;. I&#39;d have thought an algorithm for yesterday or &quot;n days ago&quot; should consider before/after midnight.</span>
	&ndash;&nbsp;
		<a href="/users/13087/joe" 
		   title="52162 reputation" 
		   class="comment-user">Joe</a>
	<span class="comment-date" dir="ltr"><span title="2009-02-01 19:33:54Z" class="relativetime-clean">Feb 1 '09 at 19:33</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-788927" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="supernova">92</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Compilers are usually pretty good at pre-calculating constant expressions, like 24 * 60 * 60, so you can directly use those instead of calculating it yourself to be 86400 and putting the original expression in comments</span>
	&ndash;&nbsp;
		<a href="/users/76859/zvolkov" 
		   title="8696 reputation" 
		   class="comment-user">zvolkov</a>
	<span class="comment-date" dir="ltr"><span title="2009-06-11 12:50:23Z" class="relativetime-clean">Jun 11 '09 at 12:50</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-2083807" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">14</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">noticed that this function excludes weeks</span>
	&ndash;&nbsp;
		<a href="/users/190168/jray" 
		   title="396 reputation" 
		   class="comment-user">jray</a>
	<span class="comment-date" dir="ltr"><span title="2010-01-26 21:03:44Z" class="relativetime-clean">Jan 26 '10 at 21:03</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-4211979" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">5</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">@jray So go implement them. :)</span>
	&ndash;&nbsp;
		<a href="/users/7724/bzlm" 
		   title="4987 reputation" 
		   class="comment-user">bzlm</a>
	<span class="comment-date" dir="ltr"><span title="2010-10-15 17:46:54Z" class="relativetime-clean">Oct 15 '10 at 17:46</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-4464595" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="cool">3</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">@bzlm I think I did for a project I was working on. My motivation here was to alert others that weeks were omitted from this code sample.  As to how to do that, it seemed pretty straight forward to me.</span>
	&ndash;&nbsp;
		<a href="/users/190168/jray" 
		   title="396 reputation" 
		   class="comment-user">jray</a>
	<span class="comment-date" dir="ltr"><span title="2010-11-09 23:38:21Z" class="relativetime-clean">Nov 9 '10 at 23:38</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-12" 
			   class="comments-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">show <b>6</b> more comments</a>
    </td>
</tr>
    </table>
</div>

  
<a name="10705"></a>
<div id="answer-10705" class="answer" data-answerid="10705" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="10705">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">53</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><pre><code>   public static string RelativeDate(DateTime theDate) {
        Dictionary&lt;long, string&gt; thresholds = new Dictionary&lt;long, string&gt;();
        int minute = 60;
        int hour = 60 * minute;
        int day = 24 * hour;
        thresholds.Add(60, "{0} seconds ago");
        thresholds.Add(minute * 2, "a minute ago");
        thresholds.Add(45 * minute, "{0} minutes ago");
        thresholds.Add(120 * minute, "an hour ago");
        thresholds.Add(day, "{0} hours ago");
        thresholds.Add(day * 2, "yesterday");
        thresholds.Add(day * 30, "{0} days ago");
        thresholds.Add(day * 365, "{0} months ago");
        thresholds.Add(long.MaxValue, "{0} years ago");

        long since = (DateTime.Now.Ticks - theDate.Ticks) / 10000000;
        foreach (long threshold in thresholds.Keys) {
            if (since &lt; threshold) {
                TimeSpan t = new TimeSpan((DateTime.Now.Ticks - theDate.Ticks));
                return string.Format(thresholds[threshold], (t.Days &gt; 365 ? t.Days / 365 : (t.Days &gt; 0 ? t.Days : (t.Hours &gt; 0 ? t.Hours : (t.Minutes &gt; 0 ? t.Minutes : (t.Seconds &gt; 0 ? t.Seconds : 0))))).ToString());
            }
        }
        return "";
    }
</code></pre>

<p>I prefer this version for its conciseness, and ability to add in new tick points.
This could be encapsulated with a Latest() extension to Timespan instead of that long 1 liner, but for the sake of brevity in posting, this will do.
<strong>This fixes the an hour ago, 1 hours ago, by providing an hour until 2 hours have elapsed</strong></p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/10705" title="short permalink to this answer" class="short-link" id="link-post-10705">share</a><span class="lsep">|</span><a href="/posts/10705/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/10705/revisions" title="show all edits to this post">edited <span title="2011-02-01 14:07:35Z" class="relativetime">Feb 1 '11 at 14:07</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-10705" href="/posts/10705/revisions" title="show revision history for this post">
        2 revs, 2 users 98%<br><a href="/users/1220">DevelopingChris</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-10705" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-196579" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">I am getting all sorts of problems using this function, for instance if you mock &#39;theDate = DateTime.Now.AddMinutes(-40);&#39; I am getting &#39;40 hours ago&#39;, but with Michael&#39;s refactormycode response, it returns correct at &#39;40 minutes ago&#39; ?</span>
	&ndash;&nbsp;
		<a href="/users/41211/goneale" 
		   title="7522 reputation" 
		   class="comment-user">GONeale</a>
	<span class="comment-date" dir="ltr"><span title="2008-12-15 02:17:48Z" class="relativetime-clean">Dec 15 '08 at 2:17</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-1073131" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">i think you are missing a zero, try:
long since = (DateTime.Now.Ticks - theDate.Ticks) / 10000000;</span>
	&ndash;&nbsp;
		<a href="/users/56774/robnardo" 
		   title="592 reputation" 
		   class="comment-user">robnardo</a>
	<span class="comment-date" dir="ltr"><span title="2009-08-07 19:37:37Z" class="relativetime-clean">Aug 7 '09 at 19:37</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-9874105" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="cool">1</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Hmm, while this code may work it is incorrect and invalid to assume that the order of the keys in the Dictionary will be in a specific order. The Dictionary uses the Object.GetHashCode() which does not return a long but an int!. If you want these to be sorted then you should use a SortedList&lt;long, string&gt;. What is wrong with the thresholds being evaluated in a set of if/else if/.../else ? You get the same number of comparisons. FYI the hash for long.MaxValue turns out to be the same as int.MinValue!</span>
	&ndash;&nbsp;
		<a href="/users/78830/codemonkeyking" 
		   title="1516 reputation" 
		   class="comment-user">CodeMonkeyKing</a>
	<span class="comment-date" dir="ltr"><span title="2011-11-09 04:47:25Z" class="relativetime-clean">Nov 9 '11 at 4:47</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-17898123" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">OP forgot t.Days &gt; 30 ? t.Days / 30 :</span>
	&ndash;&nbsp;
		<a href="/users/348005/lars-holm-jensen" 
		   title="639 reputation" 
		   class="comment-user">Lars Holm Jensen</a>
	<span class="comment-date" dir="ltr"><span title="2012-10-31 10:39:54Z" class="relativetime-clean">Oct 31 '12 at 10:39</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-10705" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="501415"></a>
<div id="answer-501415" class="answer" data-answerid="501415" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="501415">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">42</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>Here a rewrite from Jeffs Script for PHP:</p>

<pre class="lang-php prettyprint-override"><code>define("SECOND", 1);
define("MINUTE", 60 * SECOND);
define("HOUR", 60 * MINUTE);
define("DAY", 24 * HOUR);
define("MONTH", 30 * DAY);
function relativeTime($time)
{   
    $delta = time() - $time;

    if ($delta &lt; 1 * MINUTE)
    {
        return $delta == 1 ? "one second ago" : $delta . " seconds ago";
    }
    if ($delta &lt; 2 * MINUTE)
    {
      return "a minute ago";
    }
    if ($delta &lt; 45 * MINUTE)
    {
        return floor($delta / MINUTE) . " minutes ago";
    }
    if ($delta &lt; 90 * MINUTE)
    {
      return "an hour ago";
    }
    if ($delta &lt; 24 * HOUR)
    {
      return floor($delta / HOUR) . " hours ago";
    }
    if ($delta &lt; 48 * HOUR)
    {
      return "yesterday";
    }
    if ($delta &lt; 30 * DAY)
    {
        return floor($delta / DAY) . " days ago";
    }
    if ($delta &lt; 12 * MONTH)
    {
      $months = floor($delta / DAY / 30);
      return $months &lt;= 1 ? "one month ago" : $months . " months ago";
    }
    else
    {
        $years = floor($delta / DAY / 365);
        return $years &lt;= 1 ? "one year ago" : $years . " years ago";
    }
}    
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/501415" title="short permalink to this answer" class="short-link" id="link-post-501415">share</a><span class="lsep">|</span><a href="/posts/501415/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/501415/revisions" title="show all edits to this post">edited <span title="2012-02-06 02:04:43Z" class="relativetime">Feb 6 '12 at 2:04</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-501415" href="/posts/501415/revisions" title="show revision history for this post">
        2 revs, 2 users 98%<br><a href="/users/19929">Thomaschaaf</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-501415" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-1902787" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">This works a treat...</span>
	&ndash;&nbsp;
		<a href="/users/160793/patrick-beardmore" 
		   title="612 reputation" 
		   class="comment-user">Patrick Beardmore</a>
	<span class="comment-date" dir="ltr"><span title="2009-12-31 17:28:03Z" class="relativetime-clean">Dec 31 '09 at 17:28</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-4143087" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Thanks :) +1 :)</span>
	&ndash;&nbsp;
		<a href="/users/45261/prashant" 
		   title="6240 reputation" 
		   class="comment-user">Prashant</a>
	<span class="comment-date" dir="ltr"><span title="2010-10-08 12:47:14Z" class="relativetime-clean">Oct 8 '10 at 12:47</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-12039019" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Perfect, I was trying to do it by myself, It works like a charm. +1</span>
	&ndash;&nbsp;
		<a href="/users/1078487/carlos-quijano" 
		   title="909 reputation" 
		   class="comment-user">Carlos Quijano</a>
	<span class="comment-date" dir="ltr"><span title="2012-02-29 21:12:37Z" class="relativetime-clean">Feb 29 '12 at 21:12</span></span>
		<span class="edited-yes" title="this comment was edited 1 time"></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-501415" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="79601"></a>
<div id="answer-79601" class="answer" data-answerid="79601" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="79601">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">33</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><pre><code>public static string ToRelativeDate(DateTime input)
{
    TimeSpan oSpan = DateTime.Now.Subtract(input);
    double TotalMinutes = oSpan.TotalMinutes;
    string Suffix = " ago";

    if (TotalMinutes &lt; 0.0)
    {
        TotalMinutes = Math.Abs(TotalMinutes);
        Suffix = " from now";
    }

    var aValue = new SortedList&lt;double, Func&lt;string&gt;&gt;();
    aValue.Add(0.75, () =&gt; "less than a minute");
    aValue.Add(1.5, () =&gt; "about a minute");
    aValue.Add(45, () =&gt; string.Format("{0} minutes", Math.Round(TotalMinutes)));
    aValue.Add(90, () =&gt; "about an hour");
    aValue.Add(1440, () =&gt; string.Format("about {0} hours", Math.Round(Math.Abs(oSpan.TotalHours)))); // 60 * 24
    aValue.Add(2880, () =&gt; "a day"); // 60 * 48
    aValue.Add(43200, () =&gt; string.Format("{0} days", Math.Floor(Math.Abs(oSpan.TotalDays)))); // 60 * 24 * 30
    aValue.Add(86400, () =&gt; "about a month"); // 60 * 24 * 60
    aValue.Add(525600, () =&gt; string.Format("{0} months", Math.Floor(Math.Abs(oSpan.TotalDays / 30)))); // 60 * 24 * 365 
    aValue.Add(1051200, () =&gt; "about a year"); // 60 * 24 * 365 * 2
    aValue.Add(double.MaxValue, () =&gt; string.Format("{0} years", Math.Floor(Math.Abs(oSpan.TotalDays / 365))));

    return aValue.First(n =&gt; TotalMinutes &lt; n.Key).Value.Invoke() + Suffix;
}
</code></pre>

<p><a href="http://refactormycode.com/codes/493-twitter-esque-relative-dates">http://refactormycode.com/codes/493-twitter-esque-relative-dates</a></p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/79601" title="short permalink to this answer" class="short-link" id="link-post-79601">share</a><span class="lsep">|</span><a href="/posts/79601/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/79601/revisions" title="show all edits to this post">edited <span title="2012-01-06 00:24:29Z" class="relativetime">Jan 6 '12 at 0:24</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-79601" href="/posts/79601/revisions" title="show revision history for this post">
        2 revs, 2 users 98%<br>user1684

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-79601" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="1" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-23983" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">i saw this on refactormycode too. elegant.</span>
	&ndash;&nbsp;
		<a href="/users/10676/mikej" 
		   title="6079 reputation" 
		   class="comment-user">MikeJ</a>
	<span class="comment-date" dir="ltr"><span title="2008-09-22 15:48:14Z" class="relativetime-clean">Sep 22 '08 at 15:48</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-637901" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">this is very nice IMO :) This could also be refactored as an extension method? could the dictionary become static so it&#39;s only created once and referenced from then after?</span>
	&ndash;&nbsp;
		<a href="/users/30674/pure-krome" 
		   title="24959 reputation" 
		   class="comment-user">Pure.Krome</a>
	<span class="comment-date" dir="ltr"><span title="2009-05-06 12:29:46Z" class="relativetime-clean">May 6 '09 at 12:29</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-959088" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Pure.Krome: <a href="http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time/1141237#1141237" title="how do i calculate relative time">stackoverflow.com/questions/11/how-do-i-calculate-relative-time/&hellip;</a></span>
	&ndash;&nbsp;
		<a href="/users/5697/chris-charabaruk" 
		   title="2725 reputation" 
		   class="comment-user">Chris Charabaruk</a>
	<span class="comment-date" dir="ltr"><span title="2009-07-17 02:48:11Z" class="relativetime-clean">Jul 17 '09 at 2:48</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-3714463" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="cool">1</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">You&#39;d probably want to pull that dictionary out into a field so that you reduce instantiation and GC churn.  You&#39;d have to change <code>Func&lt;string&gt;</code> to <code>Func&lt;double&gt;</code>.</span>
	&ndash;&nbsp;
		<a href="/users/24874/drew-noakes" 
		   title="53167 reputation" 
		   class="comment-user">Drew Noakes</a>
	<span class="comment-date" dir="ltr"><span title="2010-08-23 10:34:59Z" class="relativetime-clean">Aug 23 '10 at 10:34</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-7201170" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">9</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Since the documentation on <code>Dictionary</code> states that &quot;The order in which the items are returned is undefined,&quot; (<a href="http://msdn.microsoft.com/en-us/library/xfhwa508.aspx" rel="nofollow">msdn.microsoft.com/en-us/library/xfhwa508.aspx</a>) perhaps that&#39;s not the best data structure to use when you don&#39;t care about lookup times as much as having things stay in order.</span>
	&ndash;&nbsp;
		<a href="/users/120955/striplingwarrior" 
		   title="46800 reputation" 
		   class="comment-user">StriplingWarrior</a>
	<span class="comment-date" dir="ltr"><span title="2011-05-31 16:01:23Z" class="relativetime-clean">May 31 '11 at 16:01</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-79601" 
			   class="comments-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">show <b>1</b> more comment</a>
    </td>
</tr>
    </table>
</div>

  
<a name="628203"></a>
<div id="answer-628203" class="answer" data-answerid="628203" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="628203">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">27</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>Here's an implementation I added as an extension method to the DateTime class that handles both future and past dates and provides an approximation option that allows you to specify the level of detail you're looking for ("3 hour ago" vs "3 hours, 23 minutes, 12 seconds ago"):</p>

<pre><code>using System.Text;

/// &lt;summary&gt;
/// Compares a supplied date to the current date and generates a friendly English 
/// comparison ("5 days ago", "5 days from now")
/// &lt;/summary&gt;
/// &lt;param name="date"&gt;The date to convert&lt;/param&gt;
/// &lt;param name="approximate"&gt;When off, calculate timespan down to the second.
/// When on, approximate to the largest round unit of time.&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public static string ToRelativeDateString(this DateTime value, bool approximate)
{
    StringBuilder sb = new StringBuilder();

    string suffix = (value &gt; DateTime.Now) ? " from now" : " ago";

    TimeSpan timeSpan = new TimeSpan(Math.Abs(DateTime.Now.Subtract(value).Ticks));

    if (timeSpan.Days &gt; 0)
    {
        sb.AppendFormat("{0} {1}", timeSpan.Days,
          (timeSpan.Days &gt; 1) ? "days" : "day");
        if (approximate) return sb.ToString() + suffix;
    }
    if (timeSpan.Hours &gt; 0)
    {
        sb.AppendFormat("{0}{1} {2}", (sb.Length &gt; 0) ? ", " : string.Empty,
          timeSpan.Hours, (timeSpan.Hours &gt; 1) ? "hours" : "hour");
        if (approximate) return sb.ToString() + suffix;
    }
    if (timeSpan.Minutes &gt; 0)
    {
        sb.AppendFormat("{0}{1} {2}", (sb.Length &gt; 0) ? ", " : string.Empty, 
          timeSpan.Minutes, (timeSpan.Minutes &gt; 1) ? "minutes" : "minute");
        if (approximate) return sb.ToString() + suffix;
    }
    if (timeSpan.Seconds &gt; 0)
    {
        sb.AppendFormat("{0}{1} {2}", (sb.Length &gt; 0) ? ", " : string.Empty, 
          timeSpan.Seconds, (timeSpan.Seconds &gt; 1) ? "seconds" : "second");
        if (approximate) return sb.ToString() + suffix;
    }
    if (sb.Length == 0) return "right now";

    sb.Append(suffix);
    return sb.ToString();
}
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/628203" title="short permalink to this answer" class="short-link" id="link-post-628203">share</a><span class="lsep">|</span><a href="/posts/628203/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/628203/revisions" title="show all edits to this post">edited <span title="2009-03-10 21:49:09Z" class="relativetime">Mar 10 '09 at 21:49</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-628203" href="/posts/628203/revisions" title="show revision history for this post">
        5 revs, 2 users 75%<br><a href="/users/19277">neuracnu</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-628203" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-8585103" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">5</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">+1 Much prefer using the <code>TimeSpan</code> properties rather than switching based on a huge number of ticks. Clarity is king.</span>
	&ndash;&nbsp;
		<a href="/users/146077/kirk-broadhurst" 
		   title="12595 reputation" 
		   class="comment-user">Kirk Broadhurst</a>
	<span class="comment-date" dir="ltr"><span title="2011-08-23 02:29:39Z" class="relativetime-clean">Aug 23 '11 at 2:29</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-628203" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="229285"></a>
<div id="answer-229285" class="answer" data-answerid="229285" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="229285">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">18</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>I would recommend computing this on the client side too. Less work for the server. </p>

<p>The following is the version that I use (from Zach Leatherman)</p>

<pre><code>/*
 * Javascript Humane Dates
 * Copyright (c) 2008 Dean Landolt (deanlandolt.com)
 * Re-write by Zach Leatherman (zachleat.com)
 * 
 * Adopted from the John Resig's pretty.js
 * at http://ejohn.org/blog/javascript-pretty-date
 * and henrah's proposed modification 
 * at http://ejohn.org/blog/javascript-pretty-date/#comment-297458
 * 
 * Licensed under the MIT license.
 */

function humane_date(date_str){
        var time_formats = [
                [60, 'just now'],
                [90, '1 minute'], // 60*1.5
                [3600, 'minutes', 60], // 60*60, 60
                [5400, '1 hour'], // 60*60*1.5
                [86400, 'hours', 3600], // 60*60*24, 60*60
                [129600, '1 day'], // 60*60*24*1.5
                [604800, 'days', 86400], // 60*60*24*7, 60*60*24
                [907200, '1 week'], // 60*60*24*7*1.5
                [2628000, 'weeks', 604800], // 60*60*24*(365/12), 60*60*24*7
                [3942000, '1 month'], // 60*60*24*(365/12)*1.5
                [31536000, 'months', 2628000], // 60*60*24*365, 60*60*24*(365/12)
                [47304000, '1 year'], // 60*60*24*365*1.5
                [3153600000, 'years', 31536000], // 60*60*24*365*100, 60*60*24*365
                [4730400000, '1 century'] // 60*60*24*365*100*1.5
        ];

        var time = ('' + date_str).replace(/-/g,"/").replace(/[TZ]/g," "),
                dt = new Date,
                seconds = ((dt - new Date(time) + (dt.getTimezoneOffset() * 60000)) / 1000),
                token = ' ago',
                i = 0,
                format;

        if (seconds &lt; 0) {
                seconds = Math.abs(seconds);
                token = '';
        }

        while (format = time_formats[i++]) {
                if (seconds &lt; format[0]) {
                        if (format.length == 2) {
                                return format[1] + (i &gt; 1 ? token : ''); // Conditional so we don't return Just Now Ago
                        } else {
                                return Math.round(seconds / format[2]) + ' ' + format[1] + (i &gt; 1 ? token : '');
                        }
                }
        }

        // overflow for centuries
        if(seconds &gt; 4730400000)
                return Math.round(seconds / 4730400000) + ' centuries' + token;

        return date_str;
};

if(typeof jQuery != 'undefined') {
        jQuery.fn.humane_dates = function(){
                return this.each(function(){
                        var date = humane_date(this.title);
                        if(date &amp;&amp; jQuery(this).text() != date) // don't modify the dom if we don't have to
                                jQuery(this).text(date);
                });
        };
}
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/229285" title="short permalink to this answer" class="short-link" id="link-post-229285">share</a><span class="lsep">|</span><a href="/posts/229285/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/229285/revisions" title="show all edits to this post"><span title="2008-10-23 10:44:13Z" class="relativetime">Oct 23 '08 at 10:44</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-229285" href="/posts/229285/revisions" title="show revision history for this post">
        Jauder Ho
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-229285" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-4840547" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="cool">2</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Love the function name <code>humane</code>! :)</span>
	&ndash;&nbsp;
		<a href="/users/395628/el-ronnoco" 
		   title="5371 reputation" 
		   class="comment-user">El Ronnoco</a>
	<span class="comment-date" dir="ltr"><span title="2010-12-13 22:48:29Z" class="relativetime-clean">Dec 13 '10 at 22:48</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-13930914" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="warm">8</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">I can&#39;t wait to see something from 1 century ago ;)</span>
	&ndash;&nbsp;
		<a href="/users/67097/dplante" 
		   title="1696 reputation" 
		   class="comment-user">dplante</a>
	<span class="comment-date" dir="ltr"><span title="2012-05-23 17:59:55Z" class="relativetime-clean">May 23 '12 at 17:59</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-229285" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="5427203"></a>
<div id="answer-5427203" class="answer" data-answerid="5427203" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="5427203">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">13</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>A couple of years late to the party, but I had a requirement to do this for both past and future dates, so I combined <a href="http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time/12#12">Jeff</a>'s and <a href="http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time/1248#1248">Vincent's</a> into this.  It's a ternarytastic extravaganza! :)</p>

<pre><code>public static class DateTimeHelper
    {
        private const int SECOND = 1;
        private const int MINUTE = 60 * SECOND;
        private const int HOUR = 60 * MINUTE;
        private const int DAY = 24 * HOUR;
        private const int MONTH = 30 * DAY;

        /// &lt;summary&gt;
        /// Returns a friendly version of the provided DateTime, relative to now. E.g.: "2 days ago", or "in 6 months".
        /// &lt;/summary&gt;
        /// &lt;param name="dateTime"&gt;The DateTime to compare to Now&lt;/param&gt;
        /// &lt;returns&gt;A friendly string&lt;/returns&gt;
        public static string GetFriendlyRelativeTime(DateTime dateTime)
        {
            if (DateTime.UtcNow.Ticks == dateTime.Ticks)
            {
                return "Right now!";
            }

            bool isFuture = (DateTime.UtcNow.Ticks &lt; dateTime.Ticks);
            var ts = DateTime.UtcNow.Ticks &lt; dateTime.Ticks ? new TimeSpan(dateTime.Ticks - DateTime.UtcNow.Ticks) : new TimeSpan(DateTime.UtcNow.Ticks - dateTime.Ticks);

            double delta = ts.TotalSeconds;

            if (delta &lt; 1 * MINUTE)
            {
                return isFuture ? "in " + (ts.Seconds == 1 ? "one second" : ts.Seconds + " seconds") : ts.Seconds == 1 ? "one second ago" : ts.Seconds + " seconds ago";
            }
            if (delta &lt; 2 * MINUTE)
            {
                return isFuture ? "in a minute" : "a minute ago";
            }
            if (delta &lt; 45 * MINUTE)
            {
                return isFuture ? "in " + ts.Minutes + " minutes" : ts.Minutes + " minutes ago";
            }
            if (delta &lt; 90 * MINUTE)
            {
                return isFuture ? "in an hour" : "an hour ago";
            }
            if (delta &lt; 24 * HOUR)
            {
                return isFuture ? "in " + ts.Hours + " hours" : ts.Hours + " hours ago";
            }
            if (delta &lt; 48 * HOUR)
            {
                return isFuture ? "tomorrow" : "yesterday";
            }
            if (delta &lt; 30 * DAY)
            {
                return isFuture ? "in " + ts.Days + " days" : ts.Days + " days ago";
            }
            if (delta &lt; 12 * MONTH)
            {
                int months = Convert.ToInt32(Math.Floor((double)ts.Days / 30));
                return isFuture ? "in " + (months &lt;= 1 ? "one month" : months + " months") : months &lt;= 1 ? "one month ago" : months + " months ago";
            }
            else
            {
                int years = Convert.ToInt32(Math.Floor((double)ts.Days / 365));
                return isFuture ? "in " + (years &lt;= 1 ? "one year" : years + " years") : years &lt;= 1 ? "one year ago" : years + " years ago";
            }
        }
    }
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/5427203" title="short permalink to this answer" class="short-link" id="link-post-5427203">share</a><span class="lsep">|</span><a href="/posts/5427203/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/5427203/revisions" title="show all edits to this post">edited <span title="2011-03-25 00:26:43Z" class="relativetime">Mar 25 '11 at 0:26</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Mar 25 &#39;11 at 0:21. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-5427203" href="/posts/5427203/revisions" title="show revision history for this post">
        2 revs<br><a href="/users/54975">Town</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-5427203" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-17160816" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Here&#39;s a book suggestion in all friendliness! <a href="http://shop.oreilly.com/product/9780596802301.do" rel="nofollow">shop.oreilly.com/product/9780596802301.do</a></span>
	&ndash;&nbsp;
		<a href="/users/697243/pal-brattberg" 
		   title="2739 reputation" 
		   class="comment-user">P&#229;l Brattberg</a>
	<span class="comment-date" dir="ltr"><span title="2012-10-03 13:52:15Z" class="relativetime-clean">Oct 3 '12 at 13:52</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-17162908" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Haha! Cheers P&#229;l! I&#39;m not sure this version is any less readable than the others on this thread, but maybe that&#39;s just because I wrote it ;)</span>
	&ndash;&nbsp;
		<a href="/users/54975/town" 
		   title="8619 reputation" 
		   class="comment-user">Town</a>
	<span class="comment-date" dir="ltr"><span title="2012-10-03 14:58:23Z" class="relativetime-clean">Oct 3 '12 at 14:58</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-17169368" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Nested ternaries considered harmful, sounds like a future blog post! =D And I&#39;ll grant most are unfriendly, my fav is the one at <a href="http://stackoverflow.com/questions/11/calculating-relative-time/79601#79601" title="calculating relative time">stackoverflow.com/questions/11/calculating-relative-time/&hellip;</a></span>
	&ndash;&nbsp;
		<a href="/users/697243/pal-brattberg" 
		   title="2739 reputation" 
		   class="comment-user">P&#229;l Brattberg</a>
	<span class="comment-date" dir="ltr"><span title="2012-10-03 18:55:28Z" class="relativetime-clean">Oct 3 '12 at 18:55</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-5427203" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="27"></a>
<div id="answer-27" class="answer" data-answerid="27" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="27">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">12</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>@jeff</p>

<p>IMHO yours seems a little long.  However it does seem a little more robust with support for "yesterday" and "years".  But in my experience when this is used the person is most likely to view the content in the first 30 days.  It is only the really hardcore people that come after that.  So that is why I usually elect to keep this short and simple.</p>

<p>This is the method I am currently using on one of my websites.  This only returns a relative day, hour, time.  And then the user has to slap on "ago" in the output.</p>

<pre><code>public static string ToLongString(this TimeSpan time)<br>{<br>    string output = String.Empty;<br><br>    if (time.Days &gt; 0)<br>        output += time.Days + " days ";<br><br>    if ((time.Days == 0 || time.Days == 1) &amp;&amp; time.Hours &gt; 0)<br>        output += time.Hours + " hr ";<br><br>    if (time.Days == 0 &amp;&amp; time.Minutes &gt; 0)<br>        output += time.Minutes + " min ";<br><br>    if (output.Length == 0)<br>        output += time.Seconds + " sec";<br><br>    return output.Trim();<br>}<br></code></pre></div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/27" title="short permalink to this answer" class="short-link" id="link-post-27">share</a><span class="lsep">|</span><a href="/posts/27/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/27/revisions" title="show all edits to this post">edited <span title="2008-08-01 13:16:49Z" class="relativetime">Aug 1 '08 at 13:16</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-27" href="/posts/27/revisions" title="show revision history for this post">
        2 revs<br><a href="/users/17">Nick Berardi</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-27" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-3934500" class="comment">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                                <span title="number of &#39;useful comment&#39; votes received" 
                                        class="hot">17</span>   
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">Currently looking at this page - asked

2 years ago :)</span>
	&ndash;&nbsp;
		<a href="/users/128176/tim" 
		   title="240 reputation" 
		   class="comment-user">tim</a>
	<span class="comment-date" dir="ltr"><span title="2010-09-16 11:49:58Z" class="relativetime-clean">Sep 16 '10 at 11:49</span></span>
		<span class="edited-yes" title="this comment was edited 1 time"></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-27" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="2244324"></a>
<div id="answer-2244324" class="answer" data-answerid="2244324" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="2244324">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">11</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><h2>iPhone obj-c Version</h2>

<pre><code>+ (NSString *)timeAgoString:(NSDate *)date {
int delta = -(int)[date timeIntervalSinceNow];

if (delta &lt; 60)
{
    return delta == 1 ? @"one second ago" : [NSString stringWithFormat:@"%i seconds ago", delta];
}
if (delta &lt; 120)
{
    return @"a minute ago";
}
if (delta &lt; 2700)
{
    return [NSString stringWithFormat:@"%i minutes ago", delta/60];
}
if (delta &lt; 5400)
{
    return @"an hour ago";
}
if (delta &lt; 24 * 3600)
{
    return [NSString stringWithFormat:@"%i hours ago", delta/3600];
}
if (delta &lt; 48 * 3600)
{
    return @"yesterday";
}
if (delta &lt; 30 * 24 * 3600)
{
    return [NSString stringWithFormat:@"%i days ago", delta/(24*3600)];
}
if (delta &lt; 12 * 30 * 24 * 3600)
{
    int months = delta/(30*24*3600);
    return months &lt;= 1 ? @"one month ago" : [NSString stringWithFormat:@"%i months ago", months];
}
else
{
    int years = delta/(12*30*24*3600);
    return years &lt;= 1 ? @"one year ago" : [NSString stringWithFormat:@"%i years ago", years];
}
</code></pre>

<p>}</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/2244324" title="short permalink to this answer" class="short-link" id="link-post-2244324">share</a><span class="lsep">|</span><a href="/posts/2244324/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/2244324/revisions" title="show all edits to this post"><span title="2010-02-11 12:23:32Z" class="relativetime">Feb 11 '10 at 12:23</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Feb 11 &#39;10 at 12:23. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2244324" href="/posts/2244324/revisions" title="show revision history for this post">
        ollie
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2244324" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-2244324" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="569913"></a>
<div id="answer-569913" class="answer" data-answerid="569913" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="569913">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">9</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>Is there an easy way to do this in Java? The java.util.Date class seems rather limited.</p>

<p>Here is my quick and dirty Java solution:</p>

<pre><code>import java.util.Date;
import javax.management.timer.Timer;

String getRelativeDate(Date date) { 	
  long delta = new Date().getTime() - date.getTime();
  if (delta &lt; 1L * Timer.ONE_MINUTE) {
    return toSeconds(delta) == 1 ? "one second ago" : toSeconds(delta) + " seconds ago";
  }
  if (delta &lt; 2L * Timer.ONE_MINUTE) {
    return "a minute ago";
  }
  if (delta &lt; 45L * Timer.ONE_MINUTE) {
    return toMinutes(delta) + " minutes ago";
  }
  if (delta &lt; 90L * Timer.ONE_MINUTE) {
    return "an hour ago";
  }
  if (delta &lt; 24L * Timer.ONE_HOUR) {
    return toHours(delta) + " hours ago";
  }
  if (delta &lt; 48L * Timer.ONE_HOUR) {
    return "yesterday";
  }
  if (delta &lt; 30L * Timer.ONE_DAY) {
    return toDays(delta) + " days ago";
  }
  if (delta &lt; 12L * 4L * Timer.ONE_WEEK) // a month {
    long months = toMonths(delta); 
    return months &lt;= 1 ? "one month ago" : months + " months ago";
  }
  else {
    long years = toYears(delta);
    return years &lt;= 1 ? "one year ago" : years + " years ago";
  }
}

private long toSeconds(long date) {
  return date / 1000L;
}

private long toMinutes(long date) {
  return toSeconds(date) / 60L;
}

private long toHours(long date) {
  return toMinutes(date) / 60L;
}

private long toDays(long date) {
  return toHours(date) / 24L;
}

private long toMonths(long date) {
  return toDays(date) / 30L;
}

private long toYears(long date) {
  return toMonths(date) / 365L;
}
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/569913" title="short permalink to this answer" class="short-link" id="link-post-569913">share</a><span class="lsep">|</span><a href="/posts/569913/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/569913/revisions" title="show all edits to this post">edited <span title="2009-02-20 15:41:11Z" class="relativetime">Feb 20 '09 at 15:41</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-569913" href="/posts/569913/revisions" title="show revision history for this post">
        2 revs<br>Jo Vermeulen
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-569913" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-569913" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="5835905"></a>
<div id="answer-5835905" class="answer" data-answerid="5835905" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="5835905">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">9</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>
Given the world and her husband appear to be posting code samples, here is what I wrote a while ago, based on a couple of these answers.</p>

<p>I had a specific need for this code to be localisable. So I have two classes — <code>Grammar</code>, which specifies the localisable terms, and <code>FuzzyDateExtensions</code>, which holds a bunch of extension methods. I had no need to deal with future datetimes, so no attempt is made to handle them with this code.</p>

<p>I've left some of the XMLdoc in the source, but removed most (where they'd be obvious) for brevity's sake. I've also not included every class member here:</p>

<pre class="lang-cs prettyprint-override"><code>public class Grammar
{
    /// &lt;summary&gt; Gets or sets the term for "just now". &lt;/summary&gt;
    public string JustNow { get; set; }
    /// &lt;summary&gt; Gets or sets the term for "X minutes ago". &lt;/summary&gt;
    /// &lt;remarks&gt;
    ///     This is a &lt;see cref="String.Format"/&gt; pattern, where &lt;c&gt;{0}&lt;/c&gt;
    ///     is the number of minutes.
    /// &lt;/remarks&gt;
    public string MinutesAgo { get; set; }
    public string OneHourAgo { get; set; }
    public string HoursAgo { get; set; }
    public string Yesterday { get; set; }
    public string DaysAgo { get; set; }
    public string LastMonth { get; set; }
    public string MonthsAgo { get; set; }
    public string LastYear { get; set; }
    public string YearsAgo { get; set; }
    /// &lt;summary&gt; Gets or sets the term for "ages ago". &lt;/summary&gt;
    public string AgesAgo { get; set; }

    /// &lt;summary&gt;
    ///     Gets or sets the threshold beyond which the fuzzy date should be
    ///     considered "ages ago".
    /// &lt;/summary&gt;
    public TimeSpan AgesAgoThreshold { get; set; }

    /// &lt;summary&gt;
    ///     Initialises a new &lt;see cref="Grammar"/&gt; instance with the
    ///     specified properties.
    /// &lt;/summary&gt;
    private void Initialise(string justNow, string minutesAgo,
        string oneHourAgo, string hoursAgo, string yesterday, string daysAgo,
        string lastMonth, string monthsAgo, string lastYear, string yearsAgo,
        string agesAgo, TimeSpan agesAgoThreshold)
    { ... }
}
</code></pre>

<p>The <code>FuzzyDateString</code> class contains:</p>

<pre class="lang-cs prettyprint-override"><code>public static class FuzzyDateExtensions
{
    public static string ToFuzzyDateString(this TimeSpan timespan)
    {
        return timespan.ToFuzzyDateString(new Grammar());
    }

    public static string ToFuzzyDateString(this TimeSpan timespan,
        Grammar grammar)
    {
        return GetFuzzyDateString(timespan, grammar);
    }

    public static string ToFuzzyDateString(this DateTime datetime)
    {
        return (DateTime.Now - datetime).ToFuzzyDateString();
    }

    public static string ToFuzzyDateString(this DateTime datetime,
       Grammar grammar)
    {
        return (DateTime.Now - datetime).ToFuzzyDateString(grammar);
    }


    private static string GetFuzzyDateString(TimeSpan timespan,
       Grammar grammar)
    {
        timespan = timespan.Duration();

        if (timespan &gt;= grammar.AgesAgoThreshold)
        {
            return grammar.AgesAgo;
        }

        if (timespan &lt; new TimeSpan(0, 2, 0))    // 2 minutes
        {
            return grammar.JustNow;
        }

        if (timespan &lt; new TimeSpan(1, 0, 0))    // 1 hour
        {
            return String.Format(grammar.MinutesAgo, timespan.Minutes);
        }

        if (timespan &lt; new TimeSpan(1, 55, 0))    // 1 hour 55 minutes
        {
            return grammar.OneHourAgo;
        }

        if (timespan &lt; new TimeSpan(12, 0, 0)    // 12 hours
            &amp;&amp; (DateTime.Now - timespan).IsToday())
        {
            return String.Format(grammar.HoursAgo, timespan.RoundedHours());
        }

        if ((DateTime.Now.AddDays(1) - timespan).IsToday())
        {
            return grammar.Yesterday;
        }

        if (timespan &lt; new TimeSpan(32, 0, 0, 0)    // 32 days
            &amp;&amp; (DateTime.Now - timespan).IsThisMonth())
        {
            return String.Format(grammar.DaysAgo, timespan.RoundedDays());
        }

        if ((DateTime.Now.AddMonths(1) - timespan).IsThisMonth())
        {
            return grammar.LastMonth;
        }

        if (timespan &lt; new TimeSpan(365, 0, 0, 0, 0)    // 365 days
            &amp;&amp; (DateTime.Now - timespan).IsThisYear())
        {
            return String.Format(grammar.MonthsAgo, timespan.RoundedMonths());
        }

        if ((DateTime.Now - timespan).AddYears(1).IsThisYear())
        {
            return grammar.LastYear;
        }

        return String.Format(grammar.YearsAgo, timespan.RoundedYears());
    }
}
</code></pre>

<p>One of the key things I wanted to achieve, as well as localisation, was that "today" would only mean "this calendar day", so the <code>IsToday</code>, <code>IsThisMonth</code>, <code>IsThisYear</code> methods look like this:</p>

<pre class="lang-cs prettyprint-override"><code>    public static bool IsToday(this DateTime date)
    {
        return date.DayOfYear == DateTime.Now.DayOfYear &amp;&amp; date.IsThisYear();
    }
</code></pre>

<p>and the rounding methods are like this (I've included <code>RoundedMonths</code>, as that's a bit different):</p>

<pre class="lang-cs prettyprint-override"><code>    public static int RoundedDays(this TimeSpan timespan)
    {
        return (timespan.Hours &gt; 12) ? timespan.Days + 1 : timespan.Days;
    }

    public static int RoundedMonths(this TimeSpan timespan)
    {
        DateTime then = DateTime.Now - timespan;

        // Number of partial months elapsed since 1 Jan, AD 1 (DateTime.MinValue)
        int nowMonthYears = DateTime.Now.Year * 12 + DateTime.Now.Month;
        int thenMonthYears = then.Year * 12 + then.Month;                    

        return nowMonthYears - thenMonthYears;
    }
</code></pre>

<p>I hope people find this useful and/or interesting  :o)</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/5835905" title="short permalink to this answer" class="short-link" id="link-post-5835905">share</a><span class="lsep">|</span><a href="/posts/5835905/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/5835905/revisions" title="show all edits to this post">edited <span title="2012-03-12 10:07:44Z" class="relativetime">Mar 12 '12 at 10:07</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Apr 29 &#39;11 at 18:31. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-5835905" href="/posts/5835905/revisions" title="show revision history for this post">
        4 revs, 2 users 75%<br><a href="/users/205245">Owen Blacker</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-5835905" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-5835905" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="1379178"></a>
<div id="answer-1379178" class="answer" data-answerid="1379178" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1379178">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">8</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>using Fluent DateTime <a href="https://github.com/FluentDateTime" rel="nofollow">https://github.com/FluentDateTime</a></p>

<pre><code>        var dateTime1 = 2.Hours().Ago();
        var dateTime2 = 3.Days().Ago();
        var dateTime3 = 1.Months().Ago();
        var dateTime4 = 5.Hours().FromNow();
        var dateTime5 = 2.Weeks().FromNow();
        var dateTime6 = 40.Seconds().FromNow();
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/1379178" title="short permalink to this answer" class="short-link" id="link-post-1379178">share</a><span class="lsep">|</span><a href="/posts/1379178/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/1379178/revisions" title="show all edits to this post">edited <span title="2012-09-22 23:47:30Z" class="relativetime">Sep 22 '12 at 23:47</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1379178" href="/posts/1379178/revisions" title="show revision history for this post">
        2 revs<br><a href="/users/53158">Simon</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1379178" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1379178" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="18393"></a>
<div id="answer-18393" class="answer" data-answerid="18393" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="18393">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">7</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>In PHP, I do it this way: </p>

<pre class="lang-php prettyprint-override"><code>&lt;?php
function timesince($original) {
    // array of time period chunks
    $chunks = array(
        array(60 * 60 * 24 * 365 , 'year'),
        array(60 * 60 * 24 * 30 , 'month'),
        array(60 * 60 * 24 * 7, 'week'),
        array(60 * 60 * 24 , 'day'),
        array(60 * 60 , 'hour'),
        array(60 , 'minute'),
    );

    $today = time(); /* Current unix time  */
    $since = $today - $original;

    if($since &gt; 604800) {
    $print = date("M jS", $original);

    if($since &gt; 31536000) {
        $print .= ", " . date("Y", $original);
    }

    return $print;
}

// $j saves performing the count function each time around the loop
for ($i = 0, $j = count($chunks); $i &lt; $j; $i++) {

    $seconds = $chunks[$i][0];
    $name = $chunks[$i][1];

    // finding the biggest chunk (if the chunk fits, break)
    if (($count = floor($since / $seconds)) != 0) {
        break;
    }
}

$print = ($count == 1) ? '1 '.$name : "$count {$name}s";

return $print . " ago";

} ?&gt;
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/18393" title="short permalink to this answer" class="short-link" id="link-post-18393">share</a><span class="lsep">|</span><a href="/posts/18393/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/18393/revisions" title="show all edits to this post">edited <span title="2012-02-06 02:05:49Z" class="relativetime">Feb 6 '12 at 2:05</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-18393" href="/posts/18393/revisions" title="show revision history for this post">
        2 revs, 2 users 98%<br><a href="/users/1063">icco</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-18393" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-18393" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="1752"></a>
<div id="answer-1752" class="answer" data-answerid="1752" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1752">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">6</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>I thought I'd give this a shot using classes and polymorphism. I had a previous iteration which used sub-classing which ended up having way too much overhead. I've switched to a more flexible delegate / public property object model which is significantly better. My code is very slightly more accurate, I wish I could come up with a better way to generate "months ago" that didn't seem too over-engineered.</p>

<p>I think I'd still stick with Jeff's if-then cascade because it's less code and it's simpler (it's definitely easier to ensure it'll work as expected).</p>

<p>For the below code <em>PrintRelativeTime.GetRelativeTimeMessage(TimeSpan ago)</em> returns the relative time message (e.g. "yesterday").</p>

<pre><code>public class RelativeTimeRange : IComparable<br>{<br>    public TimeSpan UpperBound { get; set; }<br><br>    public delegate string RelativeTimeTextDelegate(TimeSpan timeDelta);<br><br>    public RelativeTimeTextDelegate MessageCreator { get; set; }<br><br>    public int CompareTo(object obj)<br>    {<br>        if (!(obj is RelativeTimeRange))<br>        {<br>            return 1;<br>        }<br>        // note that this sorts in reverse order to the way you'd expect, <br>        // this saves having to reverse a list later<br>        return (obj as RelativeTimeRange).UpperBound.CompareTo(UpperBound);<br>    }<br>}<br><br>public class PrintRelativeTime<br>{<br>    private static List&lt;RelativeTimeRange&gt; timeRanges;<br><br>    static PrintRelativeTime()<br>    {<br>        timeRanges = new List&lt;RelativeTimeRange&gt;{<br>            new RelativeTimeRange<br>            {<br>                UpperBound = TimeSpan.FromSeconds(1),<br>                MessageCreator = (delta) =&gt; <br>                { return "one second ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = TimeSpan.FromSeconds(60),<br>                MessageCreator = (delta) =&gt; <br>                { return delta.Seconds + " seconds ago"; }<br><br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = TimeSpan.FromMinutes(2),<br>                MessageCreator = (delta) =&gt; <br>                { return "one minute ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = TimeSpan.FromMinutes(60),<br>                MessageCreator = (delta) =&gt; <br>                { return delta.Minutes + " minutes ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = TimeSpan.FromHours(2),<br>                MessageCreator = (delta) =&gt; <br>                { return "one hour ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = TimeSpan.FromHours(24),<br>                MessageCreator = (delta) =&gt; <br>                { return delta.Hours + " hours ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = TimeSpan.FromDays(2),<br>                MessageCreator = (delta) =&gt; <br>                { return "yesterday"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = DateTime.Now.Subtract(DateTime.Now.AddMonths(-1)),<br>                MessageCreator = (delta) =&gt; <br>                { return delta.Days + " days ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = DateTime.Now.Subtract(DateTime.Now.AddMonths(-2)),<br>                MessageCreator = (delta) =&gt; <br>                { return "one month ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = DateTime.Now.Subtract(DateTime.Now.AddYears(-1)),<br>                MessageCreator = (delta) =&gt; <br>                { return (int)Math.Floor(delta.TotalDays / 30) + " months ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = DateTime.Now.Subtract(DateTime.Now.AddYears(-2)),<br>                MessageCreator = (delta) =&gt; <br>                { return "one year ago"; }<br>            }, <br>            new RelativeTimeRange<br>            {<br>                UpperBound = TimeSpan.MaxValue,<br>                MessageCreator = (delta) =&gt; <br>                { return (int)Math.Floor(delta.TotalDays / 365.24D) + " years ago"; }<br>            }<br>        };<br><br>        timeRanges.Sort();<br>    }<br><br>    public static string GetRelativeTimeMessage(TimeSpan ago)<br>    {<br>        RelativeTimeRange postRelativeDateRange = timeRanges[0];<br><br>        foreach (var timeRange in timeRanges)<br>        {<br>            if (ago.CompareTo(timeRange.UpperBound) &lt;= 0)<br>            {<br>                postRelativeDateRange = timeRange;<br>            }<br>        }<br><br>        return postRelativeDateRange.MessageCreator(ago);<br>    }<br>}<br></code></pre></div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/1752" title="short permalink to this answer" class="short-link" id="link-post-1752">share</a><span class="lsep">|</span><a href="/posts/1752/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/1752/revisions" title="show all edits to this post">edited <span title="2008-08-05 01:23:39Z" class="relativetime">Aug 5 '08 at 1:23</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1752" href="/posts/1752/revisions" title="show revision history for this post">
        5 revs<br><a href="/users/332">Wedge</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1752" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1752" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="1141237"></a>
<div id="answer-1141237" class="answer" data-answerid="1141237" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1141237">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">6</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><pre><code>using System;
using System.Collections.Generic;
using System.Linq;

public static class RelativeDateHelper
{
    private static Dictionary&lt;double, Func&lt;double, string&gt;&gt; sm_Dict = null;

    private static Dictionary&lt;double, Func&lt;double, string&gt;&gt; DictionarySetup()
    {
        var dict = new Dictionary&lt;double, Func&lt;double, string&gt;&gt;();
        dict.Add(0.75, (mins) =&gt; "less than a minute");
        dict.Add(1.5, (mins) =&gt; "about a minute");
        dict.Add(45, (mins) =&gt; string.Format("{0} minutes", Math.Round(mins)));
        dict.Add(90, (mins) =&gt; "about an hour");
        dict.Add(1440, (mins) =&gt; string.Format("about {0} hours", Math.Round(Math.Abs(mins / 60)))); // 60 * 24
        dict.Add(2880, (mins) =&gt; "a day"); // 60 * 48
        dict.Add(43200, (mins) =&gt; string.Format("{0} days", Math.Floor(Math.Abs(mins / 1440)))); // 60 * 24 * 30
        dict.Add(86400, (mins) =&gt; "about a month"); // 60 * 24 * 60
        dict.Add(525600, (mins) =&gt; string.Format("{0} months", Math.Floor(Math.Abs(mins / 43200)))); // 60 * 24 * 365 
        dict.Add(1051200, (mins) =&gt; "about a year"); // 60 * 24 * 365 * 2
        dict.Add(double.MaxValue, (mins) =&gt; string.Format("{0} years", Math.Floor(Math.Abs(mins / 525600))));

        return dict;
    }

    public static string ToRelativeDate(this DateTime input)
    {
        TimeSpan oSpan = DateTime.Now.Subtract(input);
        double TotalMinutes = oSpan.TotalMinutes;
        string Suffix = " ago";

        if (TotalMinutes &lt; 0.0)
        {
            TotalMinutes = Math.Abs(TotalMinutes);
            Suffix = " from now";
        }

        if (null == sm_Dict)
            sm_Dict = DictionarySetup();

        return sm_Dict.First(n =&gt; TotalMinutes &lt; n.Key).Value.Invoke(TotalMinutes) + Suffix;
    }
}
</code></pre>

<p>The same as <a href="http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time/79601#79601">another answer to this question</a> but as an extension method with a static dictionary.</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/1141237" title="short permalink to this answer" class="short-link" id="link-post-1141237">share</a><span class="lsep">|</span><a href="/posts/1141237/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/1141237/revisions" title="show all edits to this post"><span title="2009-07-17 02:47:42Z" class="relativetime">Jul 17 '09 at 2:47</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1141237" href="/posts/1141237/revisions" title="show revision history for this post">
        Chris Charabaruk
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1141237" class="comments" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">

    <tr id="comment-7135749" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">What does the dictionary buy you here?</span>
	&ndash;&nbsp;
		<a href="/users/120955/striplingwarrior" 
		   title="46800 reputation" 
		   class="comment-user">StriplingWarrior</a>
	<span class="comment-date" dir="ltr"><span title="2011-05-26 21:46:22Z" class="relativetime-clean">May 26 '11 at 21:46</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-7190933" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">StriplingWarrior: Ease of reading and modifying compared to a switch statement or a stack of if/else statements. The dictionary being static means that it and the Func&lt;,&gt; objects don&#39;t have to be created every time we want to use ToRelativeDate; it&#39;s created only once, compared to the one I linked in my answer.</span>
	&ndash;&nbsp;
		<a href="/users/5697/chris-charabaruk" 
		   title="2725 reputation" 
		   class="comment-user">Chris Charabaruk</a>
	<span class="comment-date" dir="ltr"><span title="2011-05-31 04:42:40Z" class="relativetime-clean">May 31 '11 at 4:42</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-7201147" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">I see. I was just thinking, since the documentation on <code>Dictionary</code> states that &quot;The order in which the items are returned is undefined,&quot; (<a href="http://msdn.microsoft.com/en-us/library/xfhwa508.aspx" rel="nofollow">msdn.microsoft.com/en-us/library/xfhwa508.aspx</a>) perhaps that&#39;s not the best data structure to use when you don&#39;t care about lookup times as much as having things stay in order.</span>
	&ndash;&nbsp;
		<a href="/users/120955/striplingwarrior" 
		   title="46800 reputation" 
		   class="comment-user">StriplingWarrior</a>
	<span class="comment-date" dir="ltr"><span title="2011-05-31 16:00:16Z" class="relativetime-clean">May 31 '11 at 16:00</span></span>
				</div>

        </td>
    </tr>
    <tr id="comment-7209153" class="comment">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class="comment-score">
                            
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>   
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
	<span class="comment-copy">StriplingWarrior: I believe LINQ takes that into account when used with <code>Dictionary</code>s. If you&#39;re still uncomfortable with it, you can use <a href="http://msdn.microsoft.com/en-us/library/f7fta44c.aspx" rel="nofollow"><code>SortedDictionary</code></a>, but my own experience shows that to be unnecessary.</span>
	&ndash;&nbsp;
		<a href="/users/5697/chris-charabaruk" 
		   title="2725 reputation" 
		   class="comment-user">Chris Charabaruk</a>
	<span class="comment-date" dir="ltr"><span title="2011-06-01 02:44:57Z" class="relativetime-clean">Jun 1 '11 at 2:44</span></span>
				</div>

        </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1141237" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="12852"></a>
<div id="answer-12852" class="answer" data-answerid="12852" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="12852">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">5</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>When you know the viewer's time zone, it might be clearer to use calendar days at the day scale. I'm not familiar with the .NET libraries so I don't know how you'd do that in C#, unfortunately.</p>

<p>On consumer sites, you could also be hand-wavier under a minute. "Less than a minute ago" or "just now" could be good enough.</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/12852" title="short permalink to this answer" class="short-link" id="link-post-12852">share</a><span class="lsep">|</span><a href="/posts/12852/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/12852/revisions" title="show all edits to this post"><span title="2008-08-15 22:42:33Z" class="relativetime">Aug 15 '08 at 22:42</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-12852" href="/posts/12852/revisions" title="show revision history for this post">
        markpasc
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-12852" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-12852" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="1735172"></a>
<div id="answer-1735172" class="answer" data-answerid="1735172" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1735172">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">5</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>Java for client-side gwt usage:</p>

<pre><code>import java.util.Date;

public class RelativeDateFormat {

 private static final long ONE_MINUTE = 60000L;
 private static final long ONE_HOUR = 3600000L;
 private static final long ONE_DAY = 86400000L;
 private static final long ONE_WEEK = 604800000L;

 public static String format(Date date) {

  long delta = new Date().getTime() - date.getTime();
  if (delta &lt; 1L * ONE_MINUTE) {
   return toSeconds(delta) == 1 ? "one second ago" : toSeconds(delta)
     + " seconds ago";
  }
  if (delta &lt; 2L * ONE_MINUTE) {
   return "one minute ago";
  }
  if (delta &lt; 45L * ONE_MINUTE) {
   return toMinutes(delta) + " minutes ago";
  }
  if (delta &lt; 90L * ONE_MINUTE) {
   return "one hour ago";
  }
  if (delta &lt; 24L * ONE_HOUR) {
   return toHours(delta) + " hours ago";
  }
  if (delta &lt; 48L * ONE_HOUR) {
   return "yesterday";
  }
  if (delta &lt; 30L * ONE_DAY) {
   return toDays(delta) + " days ago";
  }
  if (delta &lt; 12L * 4L * ONE_WEEK) {
   long months = toMonths(delta);
   return months &lt;= 1 ? "one month ago" : months + " months ago";
  } else {
   long years = toYears(delta);
   return years &lt;= 1 ? "one year ago" : years + " years ago";
  }
 }

 private static long toSeconds(long date) {
  return date / 1000L;
 }

 private static long toMinutes(long date) {
  return toSeconds(date) / 60L;
 }

 private static long toHours(long date) {
  return toMinutes(date) / 60L;
 }

 private static long toDays(long date) {
  return toHours(date) / 24L;
 }

 private static long toMonths(long date) {
  return toDays(date) / 30L;
 }

 private static long toYears(long date) {
  return toMonths(date) / 365L;
 }

}
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/1735172" title="short permalink to this answer" class="short-link" id="link-post-1735172">share</a><span class="lsep">|</span><a href="/posts/1735172/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/1735172/revisions" title="show all edits to this post">edited <span title="2009-11-14 18:56:01Z" class="relativetime">Nov 14 '09 at 18:56</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 14 &#39;09 at 18:44. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1735172" href="/posts/1735172/revisions" title="show revision history for this post">
        2 revs<br><a href="/users/5849">antony.trupe</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1735172" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1735172" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="19377828"></a>
<div id="answer-19377828" class="answer" data-answerid="19377828" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="19377828">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">5</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>you can try this.I think it will work correctly.</p>

<pre><code>long delta = new Date().getTime() - date.getTime();
const int SECOND = 1;
const int MINUTE = 60 * SECOND;
const int HOUR = 60 * MINUTE;
const int DAY = 24 * HOUR;
const int MONTH = 30 * DAY;

if (delta &lt; 0L)
{
  return "not yet";
}
if (delta &lt; 1L * MINUTE)
{
  return ts.Seconds == 1 ? "one second ago" : ts.Seconds + " seconds ago";
}
if (delta &lt; 2L * MINUTE)
{
  return "a minute ago";
}
if (delta &lt; 45L * MINUTE)
{
  return ts.Minutes + " minutes ago";
}
if (delta &lt; 90L * MINUTE)
{
  return "an hour ago";
}
if (delta &lt; 24L * HOUR)
{
  return ts.Hours + " hours ago";
}
if (delta &lt; 48L * HOUR)
{
  return "yesterday";
}
if (delta &lt; 30L * DAY)
{
  return ts.Days + " days ago";
}
if (delta &lt; 12L * MONTH)
{
  int months = Convert.ToInt32(Math.Floor((double)ts.Days / 30));
  return months &lt;= 1 ? "one month ago" : months + " months ago";
}
else
{
  int years = Convert.ToInt32(Math.Floor((double)ts.Days / 365));
  return years &lt;= 1 ? "one year ago" : years + " years ago";
}
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/19377828" title="short permalink to this answer" class="short-link" id="link-post-19377828">share</a><span class="lsep">|</span><a href="/posts/19377828/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/19377828/revisions" title="show all edits to this post"><span title="2013-10-15 09:36:10Z" class="relativetime">Oct 15 at 9:36</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Oct 15 at 9:36. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-19377828" href="/posts/19377828/revisions" title="show revision history for this post">
        Premdeep Mohanty
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-19377828" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-19377828" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="13690"></a>
<div id="answer-13690" class="answer" data-answerid="13690" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="13690">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">4</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>You can reduce the server-side load by performing this logic client-side. View source on some Digg pages for reference. They have the server emit an epoch time value that gets processed by Javascript. This way you don't need to manage the end user's time zone. The new server-side code would be something like:</p>

<pre><code>  public string GetRelativeTime(DateTime timeStamp)
  {
     return string.Format("&lt;script&gt;printdate({0});&lt;/script&gt;", timeStamp.ToFileTimeUtc());
  }
</code></pre>

<p>You could even add a NOSCRIPT block there and just perform a ToString().</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/13690" title="short permalink to this answer" class="short-link" id="link-post-13690">share</a><span class="lsep">|</span><a href="/posts/13690/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/13690/revisions" title="show all edits to this post"><span title="2008-08-17 15:56:26Z" class="relativetime">Aug 17 '08 at 15:56</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-13690" href="/posts/13690/revisions" title="show revision history for this post">
        J
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-13690" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-13690" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="118569"></a>
<div id="answer-118569" class="answer" data-answerid="118569" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="118569">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">3</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>Here's the algorithm stackoverflow uses but rewritten more concisely in perlish pseudocode with a bug fix (no "one hours ago").  The function takes a (positive) number of seconds ago and returns a human-friendly string like "3 hours ago" or "yesterday".</p>

<pre><code>agoify($delta)
  local($y, $mo, $d, $h, $m, $s);
  $s = floor($delta);
  if($s&lt;=1)            return "a second ago";
  if($s&lt;60)            return "$s seconds ago";
  $m = floor($s/60);
  if($m==1)            return "a minute ago";
  if($m&lt;45)            return "$m minutes ago";
  $h = floor($m/60);
  if($h==1)            return "an hour ago";
  if($h&lt;24)            return "$h hours ago";
  $d = floor($h/24);
  if($d&lt;2)             return "yesterday";
  if($d&lt;30)            return "$d days ago";
  $mo = floor($d/30);
  if($mo&lt;=1)           return "a month ago";
  $y = floor($mo/12);
  if($y&lt;1)             return "$mo months ago";
  if($y==1)            return "a year ago";
  return "$y years ago";
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/118569" title="short permalink to this answer" class="short-link" id="link-post-118569">share</a><span class="lsep">|</span><a href="/posts/118569/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/118569/revisions" title="show all edits to this post">edited <span title="2008-09-23 01:39:15Z" class="relativetime">Sep 23 '08 at 1:39</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 23 &#39;08 at 1:09. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-118569" href="/posts/118569/revisions" title="show revision history for this post">
        2 revs<br><a href="/users/4234">dreeves</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-118569" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-118569" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="10775917"></a>
<div id="answer-10775917" class="answer" data-answerid="10775917" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="10775917">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">3</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><pre><code>var ts = new TimeSpan(DateTime.Now.Ticks - dt.Ticks);
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/10775917" title="short permalink to this answer" class="short-link" id="link-post-10775917">share</a><span class="lsep">|</span><a href="/posts/10775917/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/10775917/revisions" title="show all edits to this post"><span title="2012-05-27 17:30:29Z" class="relativetime">May 27 '12 at 17:30</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of May 27 &#39;12 at 17:30. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-10775917" href="/posts/10775917/revisions" title="show revision history for this post">
        JoeyFur62
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-10775917" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-10775917" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="12279"></a>
<div id="answer-12279" class="answer" data-answerid="12279" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="12279">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">2</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>@Jeff</p>

<blockquote>
  <p>var ts = new
  TimeSpan(DateTime.UtcNow.Ticks -
  dt.Ticks);</p>
</blockquote>

<p>Doing a subtraction on <code>DateTime</code> returns a <code>TimeSpan</code> anyway.</p>

<p>So you can just do </p>

<pre><code>(DateTime.UtcNow - dt).TotalSeconds
</code></pre>

<p>I'm also surprised to see the constants multiplied-out by hand and then comments added with the multiplications in.   Was that some misguided optimisation?</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/12279" title="short permalink to this answer" class="short-link" id="link-post-12279">share</a><span class="lsep">|</span><a href="/posts/12279/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/12279/revisions" title="show all edits to this post">edited <span title="2012-12-08 20:34:50Z" class="relativetime">Dec 8 '12 at 20:34</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-12279" href="/posts/12279/revisions" title="show revision history for this post">
        2 revs, 2 users 93%<br><a href="/users/987">Will Dean</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-12279" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-12279" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="2179589"></a>
<div id="answer-2179589" class="answer" data-answerid="2179589" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="2179589">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">1</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>This, I got from one of Bill Gates' blog (no lie). I need to find it on my browser history and I'll give you the link.</p>

<p>The Javascript code to do the same thing (as requested):</p>

<pre><code>function posted(t) {
    var now = new Date();
    var diff = parseInt((now.getTime() - Date.parse(t)) / 1000);
    if (diff &lt; 60) { return 'less than a minute ago'; }
    else if (diff &lt; 120) { return 'about a minute ago'; }
    else if (diff &lt; (2700)) { return (parseInt(diff / 60)).toString() + ' minutes ago'; }
    else if (diff &lt; (5400)) { return 'about an hour ago'; }
    else if (diff &lt; (86400)) { return 'about ' + (parseInt(diff / 3600)).toString() + ' hours ago'; }
    else if (diff &lt; (172800)) { return '1 day ago'; } 
    else {return (parseInt(diff / 86400)).toString() + ' days ago'; }
}
</code></pre>

<p>Basically, you work in terms of seconds...</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/2179589" title="short permalink to this answer" class="short-link" id="link-post-2179589">share</a><span class="lsep">|</span><a href="/posts/2179589/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/2179589/revisions" title="show all edits to this post"><span title="2010-02-01 19:51:13Z" class="relativetime">Feb 1 '10 at 19:51</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Feb 1 &#39;10 at 19:51. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2179589" href="/posts/2179589/revisions" title="show revision history for this post">
        Buhake Sindi
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2179589" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-2179589" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="12406029"></a>
<div id="answer-12406029" class="answer" data-answerid="12406029" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="12406029">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">1</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>I would provide some handy extensions methods for this and make the code more readable. First, couple of extension methods for <code>Int32</code>.</p>

<pre><code>public static class TimeSpanExtensions {

    public static TimeSpan Days(this int value) {

        return new TimeSpan(value, 0, 0, 0);
    }

    public static TimeSpan Hours(this int value) {

        return new TimeSpan(0, value, 0, 0);
    }

    public static TimeSpan Minutes(this int value) {

        return new TimeSpan(0, 0, value, 0);
    }

    public static TimeSpan Seconds(this int value) {

        return new TimeSpan(0, 0, 0, value);
    }

    public static TimeSpan Milliseconds(this int value) {

        return new TimeSpan(0, 0, 0, 0, value);
    }

    public static DateTime Ago(this TimeSpan value) {

        return DateTime.Now - value;
    }
}
</code></pre>

<p>Then, one for <code>DateTime</code>.</p>

<pre><code>public static class DateTimeExtensions {

    public static DateTime Ago(this DateTime dateTime, TimeSpan delta) {

        return dateTime - delta;
    }
}
</code></pre>

<p>Now, you can do something like below:</p>

<pre><code>var date = DateTime.Now;
date.Ago(2.Days()); // 2 days ago
date.Ago(7.Hours()); // 7 hours ago
date.Ago(567.Milliseconds()); // 567 milliseconds ago
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/12406029" title="short permalink to this answer" class="short-link" id="link-post-12406029">share</a><span class="lsep">|</span><a href="/posts/12406029/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/12406029/revisions" title="show all edits to this post"><span title="2012-09-13 12:15:49Z" class="relativetime">Sep 13 '12 at 12:15</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 13 &#39;12 at 12:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-12406029" href="/posts/12406029/revisions" title="show revision history for this post">
        tugberk
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-12406029" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-12406029" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="18074585"></a>
<div id="answer-18074585" class="answer" data-answerid="18074585" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="18074585">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">1</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><pre><code>public string getRelativeDateTime(DateTime date)
{
    TimeSpan ts = DateTime.Now - date;
    if (ts.TotalMinutes &lt; 1)//seconds ago
        return "just now";
    if (ts.TotalHours &lt; 1)//min ago
        return (int)ts.TotalMinutes == 1 ? "1 Minute ago" : (int)ts.TotalMinutes + " Minutes ago";
    if (ts.TotalDays &lt; 1)//hours ago
        return (int)ts.TotalHours == 1 ? "1 Hour ago" : (int)ts.TotalHours + " Hours ago";
    if (ts.TotalDays &lt; 7)//days ago
        return (int)ts.TotalDays == 1 ? "1 Day ago" : (int)ts.TotalDays + " Days ago";
    if (ts.TotalDays &lt; 30.4368)//weeks ago
        return (int)(ts.TotalDays / 7) == 1 ? "1 Week ago" : (int)(ts.TotalDays / 7) + " Weeks ago";
    if (ts.TotalDays &lt; 365.242)//months ago
        return (int)(ts.TotalDays / 30.4368) == 1 ? "1 Month ago" : (int)(ts.TotalDays / 30.4368) + " Months ago";
    //years ago
    return (int)(ts.TotalDays / 365.242) == 1 ? "1 Year ago" : (int)(ts.TotalDays / 365.242) + " Years ago";
}
</code></pre>

<p>Conversion values for days in a month and year were taken from Google.</p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/18074585" title="short permalink to this answer" class="short-link" id="link-post-18074585">share</a><span class="lsep">|</span><a href="/posts/18074585/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/18074585/revisions" title="show all edits to this post">edited <span title="2013-08-21 17:44:08Z" class="relativetime">Aug 21 at 17:44</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Aug 6 at 7:54. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-18074585" href="/posts/18074585/revisions" title="show revision history for this post">
        3 revs, 2 users 64%<br><a href="/users/2027232">Nicolas Tyler</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-18074585" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-18074585" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="25709"></a>
<div id="answer-25709" class="answer" data-answerid="25709" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="25709">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">0</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>Surely an easy fix to get rid of the '1 hours ago' problem would be to increase the window that 'an hour ago' is valid for.
Change</p>

<pre><code>if (delta &lt; 5400) // 90 * 60
{
  return "an hour ago";
}
</code></pre>

<p>into</p>

<pre><code>if (delta &lt; 7200) // 120 * 60
{
  return "an hour ago";
}
</code></pre>

<p>This means that something that occurred 110 minutes ago will read as 'an hour ago' - this may not be perfect, but I'd say it is better than the current situation of '1 hours ago'. </p>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/25709" title="short permalink to this answer" class="short-link" id="link-post-25709">share</a><span class="lsep">|</span><a href="/posts/25709/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
            answered 
<a href="/posts/25709/revisions" title="show all edits to this post"><span title="2008-08-25 06:12:29Z" class="relativetime">Aug 25 '08 at 6:12</span></a>

        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 4 &#39;09 at 13:15. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-25709" href="/posts/25709/revisions" title="show revision history for this post">
        Cebjyre
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-25709" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-25709" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>

  
<a name="15446338"></a>
<div id="answer-15446338" class="answer" data-answerid="15446338" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="15446338">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">0</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>



<td class="answercell">
    <div class="post-text"><p>I think there is already a number of answers related to this post, but one can use this which is easy to use just like plugin and also easily readable for programmers. 
Send your specific date, and get its value in string form:</p>

<pre><code>public string RelativeDateTimeCount(DateTime inputDateTime)
{
    string outputDateTime = string.Empty;
    TimeSpan ts = DateTime.Now - inputDateTime;

    if (ts.Days &gt; 7)
    { outputDateTime = inputDateTime.ToString("MMMM d, yyyy"); }

    else if (ts.Days &gt; 0)
    {
        outputDateTime = ts.Days == 1 ? ("about 1 Day ago") : ("about " + ts.Days.ToString() + " Days ago");
    }
    else if (ts.Hours &gt; 0)
    {
        outputDateTime = ts.Hours == 1 ? ("an hour ago") : (ts.Hours.ToString() + " hours ago");
    }
    else if (ts.Minutes &gt; 0)
    {
        outputDateTime = ts.Minutes == 1 ? ("1 minute ago") : (ts.Minutes.ToString() + " minutes ago");
    }
    else outputDateTime = "few seconds ago";

    return outputDateTime;
}
</code></pre>
</div>
    <table class="fw">
    <tr>
    <td class="vt">











<div class="post-menu"><a href="/a/15446338" title="short permalink to this answer" class="short-link" id="link-post-15446338">share</a><span class="lsep">|</span><a href="/posts/15446338/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">

<div class="user-info ">
    <div class="user-action-time">
        
        
        <a href="/posts/15446338/revisions" title="show all edits to this post">edited <span title="2013-03-21 07:59:44Z" class="relativetime">Mar 21 at 7:59</span></a>
        

    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Mar 16 at 6:36. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-15446338" href="/posts/15446338/revisions" title="show revision history for this post">
        2 revs, 2 users 98%<br><a href="/users/985335">Prashant Gupta</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>        </tr>

<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-15446338" class="comments dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-15446338" 
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a>
    </td>
</tr>
    </table>
</div>
				    <div class="question-status">
        <h2>                    <b>protected</b> by <a href="/users/50049/tim-post">Tim Post</a><span class="mod-flair" title="moderator">&#9830;</span> <span title="2011-02-16 13:14:54Z" class="relativetime">Feb 16 '11 at 13:14</span>
</h2>
        <p>This question is protected to prevent &quot;thanks!&quot;, &quot;me too!&quot;, or spam answers by new users. 
To answer it, you must have earned at least 10 <a href="/help/whats-reputation">reputation</a> on this site.</p>
    </div>



						<h2 class="bottom-notice">
Not the answer you&#39;re looking for?							Browse other questions tagged <a href="/questions/tagged/c%23" class="post-tag" title="show questions tagged &#39;c#&#39;" rel="tag">c#</a> <a href="/questions/tagged/datediff" class="post-tag" title="show questions tagged &#39;datediff&#39;" rel="tag">datediff</a>  or <a href="/questions/ask">ask your own question</a>.						</h2>
			</div>
		</div>
				<div id="sidebar" class="show-votes">
							<div class="module question-stats">
					<p class="label-key">tagged</p>
					<div class="tagged"><a href="/questions/tagged/c%23" class="post-tag" title="show questions tagged &#39;c#&#39;" rel="tag">c#</a>&nbsp;<span class="item-multiplier"><span class="item-multiplier-x">&times;</span>&nbsp;<span class="item-multiplier-count">546015</span></span><br>
<a href="/questions/tagged/datediff" class="post-tag" title="show questions tagged &#39;datediff&#39;" rel="tag">datediff</a>&nbsp;<span class="item-multiplier"><span class="item-multiplier-x">&times;</span>&nbsp;<span class="item-multiplier-count">442</span></span><br>
</div>
					<table id="qinfo">
						<tr>
							<td>
								<p class="label-key">asked</p>
							</td>
							<td style="padding-left: 10px">
								<p class="label-key" title="2008-07-31 23:55:37Z"><b>5 years ago</b></p>
							</td>
						</tr>
						<tr>
							<td>
								<p class="label-key">viewed</p>
							</td>

							<td style="padding-left: 10px">
								<p class="label-key">
									<b>65960 times</b>
								</p>
							</td>
						</tr>
							<tr>
								<td>
									<p class="label-key">active</p>
								</td>
								<td style="padding-left: 10px">
									<p class="label-key"><b><a href="?lastactivity" class="lastactivity-link" title="2013-10-15 09:36:10Z">1 month ago</a></b></p>
								</td>
							</tr>
					</table>
				</div>
			<div class="module community-bulletin" data-tracker="cb=1">
    <h4>Community Bulletin</h4>
    <div class="related">

            <div class="spacer">
                <div class="bulletin-item-type"><a href="http://blog.stackoverflow.com" class="event-date" target="_blank">blog</a></div>
                <div class="bulletin-item-content">
                    <a href="http://blog.stackoverflow.com/2013/11/podcast-54-the-one-with-all-the-anachronisms/" class="question-hyperlink" target="_blank">Podcast #54 – The One With All The Anachronisms</a>
                </div>
                <br class="cbt" />
            </div>
    </div>
</div>

			
			            <script type="text/javascript">
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,8277,"adzerk914471437",17).setZone(45) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk914471437">
            </div>  
    <div id="hireme">
        <script type="text/javascript">
window.careers_adurl="//careers.stackoverflow.com/gethired/js",window.careers_cssurl="//cdn-careers.sstatic.net/careers/gethired/sidebar.min.css?v=7ae83073b37e",window.careers_leaderboardcssurl="//cdn-careers.sstatic.net/careers/gethired/ninja.min.css?v=78ccbfa5c59f",window.careers_companycssurl="//cdn-careers.sstatic.net/careers/gethired/company",window.careers_adselector="div.hireme, div#hireme",StackExchange.ready(function(){$.ajax({url:"//cdn-careers.sstatic.net/careers/gethired/loader.min.js?v=607ab2dda910",dataType:"script",cache:!0})})        </script>
    </div>



			  
    
            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">
<div class="spacer">
	<a href="/q/5301609" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">7</div>
	</a>
	<a href="/questions/5301609/asp-net-mvc-time-ago-in-words-helper" class="question-hyperlink">asp.net mvc time ago in words helper</a>
</div><div class="spacer">
	<a href="/q/670161" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">5</div>
	</a>
	<a href="/questions/670161/how-to-create-a-friendly-date-format-for-example-submitted-2-days-ago" class="question-hyperlink">How to create a friendly date format (for example &ldquo;submitted 2 days ago&rdquo;)</a>
</div><div class="spacer">
	<a href="/q/75333" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">0</div>
	</a>
	<a href="/questions/75333/relative-date-string-in-pseudocode" class="question-hyperlink">Relative date string in pseudocode</a>
</div><div class="spacer">
	<a href="/q/2452010" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">0</div>
	</a>
	<a href="/questions/2452010/calculating-and-showing-a-date-as-secs-ago-mins-ago-hours-ago-etc" class="question-hyperlink">calculating and showing a date as &#39;secs ago&#39;, &#39;mins ago&#39;, &#39;hours ago&#39; etc</a>
</div><div class="spacer">
	<a href="/q/7319335" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">0</div>
	</a>
	<a href="/questions/7319335/calculating-time-in-asp-net" class="question-hyperlink">Calculating time in ASP.NET</a>
</div><div class="spacer">
	<a href="/q/8701224" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">3</div>
	</a>
	<a href="/questions/8701224/how-i-can-convert-date-to-string-formate" class="question-hyperlink">How I can convert Date to String formate.?</a>
</div><div class="spacer">
	<a href="/q/3985828" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">1</div>
	</a>
	<a href="/questions/3985828/calculating-timespan-using-asp-net" class="question-hyperlink">Calculating Timespan using asp.net</a>
</div><div class="spacer">
	<a href="/q/2139022" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">2</div>
	</a>
	<a href="/questions/2139022/format-datetime-like-stackoverflow" class="question-hyperlink">Format DateTime like StackoverFlow</a>
</div><div class="spacer">
	<a href="/q/3044847" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">1</div>
	</a>
	<a href="/questions/3044847/display-friendly-date-numbers" class="question-hyperlink">Display Friendly Date, Numbers</a>
</div><div class="spacer">
	<a href="/q/7433451" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">-1</div>
	</a>
	<a href="/questions/7433451/how-might-i-format-relative-dates-the-way-stack-overflow-does-member-since-and" class="question-hyperlink">How might I format relative dates the way Stack Overflow does &ldquo;member since&rdquo; and &ldquo;last seen&rdquo;?</a>
</div>					<div class="spacer more">
				<a href="http://stackoverflow.com/questions/linked/11">see more linked questions…</a>
			</div>
	</div>
</div>


				<div class="module sidebar-related">
					<h4 id="h-related">Related</h4>
					<div class="related" data-tracker="rq=1">
						<div class="spacer">
<a href="/q/9" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">655
    </div>
</a><a href="/questions/9/how-do-i-calculate-someones-age-in-c" class="question-hyperlink">How do I calculate someone&#39;s age in C#?</a>
</div>
<div class="spacer">
<a href="/q/676824" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">234
    </div>
</a><a href="/questions/676824/how-to-calculate-the-difference-between-two-dates-using-php" class="question-hyperlink">How to calculate the difference between two dates using PHP?</a>
</div>
<div class="spacer">
<a href="/q/7420124" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">1
    </div>
</a><a href="/questions/7420124/xsl-date-time-difference-calculation-xslt-1-0" class="question-hyperlink">XSL Date &amp; Time Difference Calculation (XSLT 1.0)</a>
</div>
<div class="spacer">
<a href="/q/9385689" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">2
    </div>
</a><a href="/questions/9385689/how-to-calculate-elapsed-time-in-seconds-in-vba" class="question-hyperlink">How to calculate elapsed time in seconds in VBA?</a>
</div>
<div class="spacer">
<a href="/q/10366288" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">0
    </div>
</a><a href="/questions/10366288/c-sharp-forms-getting-time-between-two-dates" class="question-hyperlink">C# forms - Getting time between two dates</a>
</div>
<div class="spacer">
<a href="/q/11762375" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">1
    </div>
</a><a href="/questions/11762375/how-to-calculate-relative-time-irrespective-of-the-client-datetime-settings" class="question-hyperlink">How to calculate relative time irrespective of the client datetime settings</a>
</div>
<div class="spacer">
<a href="/q/13275886" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">0
    </div>
</a><a href="/questions/13275886/how-do-i-detect-the-daylight-savings-time-25-hour-day" class="question-hyperlink">How do I detect the Daylight Savings Time 25 hour day</a>
</div>
<div class="spacer">
<a href="/q/14048139" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">0
    </div>
</a><a href="/questions/14048139/how-to-calculate-time-difference-in-terms-of-weeks-between-yearweek-values" class="question-hyperlink">How to calculate time difference (in terms of weeks) between yearweek values?</a>
</div>
<div class="spacer">
<a href="/q/14304108" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">1
    </div>
</a><a href="/questions/14304108/calculate-how-many-leap-days-between-two-dates" class="question-hyperlink">calculate how many leap days between two dates</a>
</div>
<div class="spacer">
<a href="/q/15063595" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">2
    </div>
</a><a href="/questions/15063595/calculate-passed-time-with-php" class="question-hyperlink">Calculate passed time with PHP</a>
</div>

					</div>
				</div>
		</div>
	
<div id="feed-link">
    <div id="feed-link-text"><a href="/feeds/question/11" title="feed of this question and its answers"><span class="feed-icon"></span>question feed</a></div>
</div>
	<script type="text/javascript">
StackExchange.ready(function(){$.get('/posts/11/ivc/7ebf');});
</script>
<noscript>
    <div><img src="/posts/11/ivc/7ebf" class="dno" alt="" width="0" height="0"></div>
</noscript><div style="display:none" id="prettify-lang">lang-cs</div></div>


        </div>
    </div>
    <div id="footer" class="categories">
        <div class="footerwrap">
            <div id="footer-menu">
                <div class="top-footer-links">
                        <a href="/about">about</a>
                    <a href="/help">help</a>
                        <a href="/help/badges">badges</a>
                    <a href="http://blog.stackexchange.com?blb=1">blog</a>
                        <a href="http://chat.stackoverflow.com">chat</a>
                    <a href="http://data.stackexchange.com">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackexchange.com/about/hiring">jobs</a>
                    <a href="http://engine.adzerk.net/r?e=eyJhdiI6NDE0LCJhdCI6MjAsImNtIjo5NTQsImNoIjoxMTc4LCJjciI6Mjc3NiwiZG0iOjQsImZjIjoyODYyLCJmbCI6Mjc1MSwibnciOjIyLCJydiI6MCwicHIiOjExNSwic3QiOjAsInVyIjoiaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2Fib3V0L2NvbnRhY3QiLCJyZSI6MX0&amp;s=hRods5B22XvRBwWIwtIMekcyNF8">advertising info</a>

                    <a onclick='StackExchange.switchMobile("on", "/questions/11/how-do-i-calculate-relative-time")'>mobile</a>
                    <b><a href="/contact">contact us</a></b>
                        <b><a href="http://meta.stackoverflow.com">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tr>
            <th colspan=3>
                Technology
            </th>
            <th >
                Life / Arts
            </th>
            <th >
                Culture / Recreation
            </th>
            <th >
                Science
            </th>
            <th >
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="http://stackoverflow.com" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="http://serverfault.com" title="professional system and network administrators">Server Fault</a></li>
                        <li><a href="http://superuser.com" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="http://webapps.stackexchange.com" title="power users of web applications">Web Applications</a></li>
                        <li><a href="http://askubuntu.com" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="http://webmasters.stackexchange.com" title="pro webmasters">Webmasters</a></li>
                        <li><a href="http://gamedev.stackexchange.com" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="http://tex.stackexchange.com" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://programmers.stackexchange.com" title="professional programmers interested in conceptual questions about software development">Programmers</a></li>
                        <li><a href="http://unix.stackexchange.com" title="users of Linux, FreeBSD and other Un*x-like operating systems.">Unix &amp; Linux</a></li>
                        <li><a href="http://apple.stackexchange.com" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="http://wordpress.stackexchange.com" title="WordPress developers and administrators">WordPress Answers</a></li>
                        <li><a href="http://gis.stackexchange.com" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="http://electronics.stackexchange.com" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="http://android.stackexchange.com" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="http://security.stackexchange.com" title="Information security professionals">Information Security</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://dba.stackexchange.com" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="http://drupal.stackexchange.com" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="http://sharepoint.stackexchange.com" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="http://ux.stackexchange.com" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="http://mathematica.stackexchange.com" title="users of Mathematica">Mathematica</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (14)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://photo.stackexchange.com" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="http://scifi.stackexchange.com" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="http://cooking.stackexchange.com" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="http://diy.stackexchange.com" title="contractors and serious DIYers">Home Improvement</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (13)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://english.stackexchange.com" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="http://skeptics.stackexchange.com" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="http://judaism.stackexchange.com" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="http://travel.stackexchange.com" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="http://christianity.stackexchange.com" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="http://gaming.stackexchange.com" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                        <li><a href="http://bicycles.stackexchange.com" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="http://rpg.stackexchange.com" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (21)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://math.stackexchange.com" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="http://stats.stackexchange.com" title="statisticians, data analysts, data miners and data visualization experts">Cross Validated (stats)</a></li>
                        <li><a href="http://cstheory.stackexchange.com" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="http://physics.stackexchange.com" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="http://mathoverflow.net" title="professional mathematicians">MathOverflow</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (7)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://stackapps.com" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="http://meta.stackoverflow.com" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Overflow</a></li>
                        <li><a href="http://area51.stackexchange.com" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="http://careers.stackoverflow.com">Stack Overflow Careers</a></li>
                    
                </ol>
            </td>
    </tr>
</table>
                </div>
            </div>

            <div id="copyright">
                site design / logo &#169; 2013 stack exchange inc; user contributions licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc-wiki</a> 
 with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="footer-flair">
                <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="cc-wiki-link"></a>
            </div>
            <div id="svnrev">
                rev 2013.11.15.1158
            </div>
            
        </div>
    </div>
    <noscript>
        <div id="noscript-warning">Stack Overflow works best with JavaScript enabled<img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"></div>
    </noscript>
<script type="text/javascript">var p = "http", d = "static"; if (document.location.protocol == "https:") { p += "s"; d = "engine"; } var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = p + "://" + d + ".adzerk.net/ados.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script>
<script type="text/javascript">
    var ados = ados || {};
    ados.run = ados.run || [];
    ados.run.push(function () { ados_setKeywords('c%23,datediff');; ados_load(); });         
</script>

    <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-5620270-1']);
        _gaq.push(['_setCustomVar', 1, 'tags', '|c#|datediff|']); 
_gaq.push(['_trackPageview']);
    var _qevents = _qevents || [];
    var _comscore = _comscore || [];
    (function () {
        var ssl='https:'==document.location.protocol,
            s=document.getElementsByTagName('script')[0],
            ga=document.createElement('script');
        ga.type='text/javascript';
        ga.async=true;
        ga.src=(ssl?'https://ssl':'http://www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(ga,s);
        var sc=document.createElement('script');
        sc.type='text/javascript';
        sc.async=true;
        sc.src=(ssl?'https://secure':'http://edge')+'.quantserve.com/quant.js';
        s.parentNode.insertBefore(sc, s);
        
        var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true;
        s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";
        el.parentNode.insertBefore(s, el);
        
    })();
    _comscore.push({ c1: "2", c2: "17440561" });
    _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
    </script>        
    
</body>
</html>